<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/443896d591e4f761-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/3cf59f0fd0496c15.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-e5714bf66625afb9.js"/><script src="/_next/static/chunks/fd9d1056-e1b8fc02af805f43.js" async=""></script><script src="/_next/static/chunks/117-bf803eaaef7a29e0.js" async=""></script><script src="/_next/static/chunks/main-app-b6379442ececfbb8.js" async=""></script><script src="/_next/static/chunks/972-68a674eeca97bbbb.js" async=""></script><script src="/_next/static/chunks/646-1e67c3e800eb58dd.js" async=""></script><script src="/_next/static/chunks/app/layout-4b75b78215e64ea2.js" async=""></script><script src="/_next/static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js" async=""></script><title>Tools - Beboa Docs</title><link rel="icon" href="/favicon.ico"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_f367f3 __variable_a06722 font-sans"><div style="visibility:hidden"><div class="min-h-screen bg-[var(--bg-primary)] transition-colors duration-200"><header class="sticky top-0 z-40 w-full h-[var(--header-height)] bg-[var(--bg-secondary)] border-b border-[var(--border)]"><div class="flex items-center justify-between h-full px-4 lg:px-6"><div class="flex items-center gap-6"><button class="lg:hidden p-2 -ml-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu w-5 h-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><a class="flex items-center gap-2 text-lg font-semibold text-[var(--text-primary)] hover:text-[var(--accent)] transition-colors" href="/"><span class="text-xl">üêç</span><span class="hidden sm:inline">Beboa</span><span class="hidden sm:inline text-xs font-normal text-[var(--text-muted)] ml-1">Docs</span></a><nav class="hidden lg:flex items-center gap-1"><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/">User Guide</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/">AI Systems</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/">Jarvis Mode</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--accent)] bg-[var(--accent-light)]" href="/architecture/structure/">Reference</a></nav></div><div class="flex items-center gap-3"><div class="hidden sm:block"><button class="flex items-center gap-2 px-3 py-2 text-sm text-[var(--text-muted)] bg-[var(--bg-tertiary)] hover:bg-[var(--border)] rounded-lg border border-[var(--border)] transition-colors w-full max-w-[240px]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search w-4 h-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><span class="flex-1 text-left">Search docs...</span><kbd class="hidden sm:inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium text-[var(--text-muted)] bg-[var(--bg-secondary)] rounded border border-[var(--border)]"><span class="text-xs">‚åò</span>K</kbd></button></div><button class="sm:hidden p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Search"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button><a href="https://github.com/CMLKevin/beboa_evo" target="_blank" rel="noopener noreferrer" class="hidden sm:flex p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github w-5 h-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><button class="p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Switch to dark mode"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon w-5 h-5"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button></div></div></header><aside class="fixed inset-y-0 left-0 z-50 w-72 bg-[var(--bg-secondary)] border-r border-[var(--border)] transform transition-transform duration-300 ease-in-out lg:hidden -translate-x-full"><div class="flex items-center justify-between h-[var(--header-height)] px-4 border-b border-[var(--border)]"><a class="flex items-center gap-2 text-lg font-semibold text-[var(--text-primary)]" href="/"><span class="text-xl">üêç</span><span>Beboa</span></a><button class="p-2 -mr-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Close menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x w-5 h-5"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button></div><div class="p-4 border-b border-[var(--border)]"><div class="flex flex-wrap gap-2"><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/">User Guide</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/ai/">AI Systems</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/jarvis/">Jarvis Mode</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--accent)] bg-[var(--accent-light)]" href="/architecture/structure/">Reference</a></div></div><nav class="overflow-y-auto h-[calc(100%-128px)] py-4 px-4"><ul class="space-y-1"><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Getting Started</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/">Home</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/installation/">Installation</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/configuration/">Configuration</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/quickstart/">Quick Start</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Features</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/checkins/">Daily Check-ins</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/bebits/">Bebits &amp; Rewards</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/chat/">AI Chat</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">AI Systems</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/personality/">Dynamic Personality</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/moods/">Mood System</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/relationships/">Relationships</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/memory/">Semantic Memory</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/llm-evaluator/">LLM Evaluator</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/tools/">Tool Calls</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Jarvis Mode 2.0</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/commands/">Commands Reference</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/parsing/">Intent Parsing</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/fun/">Fun Commands</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Commands</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/commands/user/">User Commands</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/commands/admin/">Admin Commands</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Architecture</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/structure/">Project Structure</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/database/">Database Schema</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/services/">Services</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/flow/">Message Flow</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Developer Guide</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/commands/">Extending Commands</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--accent)] bg-[var(--accent-light)] font-medium" href="/dev/tools/">Custom Tools</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/migrations/">Database Migrations</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/api/">API Reference</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Deployment</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/railway/">Railway</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/vps/">VPS Setup</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/docker/">Docker</a></li></ul></li></ul></nav></aside><div class="flex"><aside class="hidden lg:block fixed top-[var(--header-height)] left-0 bottom-0 w-[var(--sidebar-width)] border-r border-[var(--border)] bg-[var(--bg-secondary)] overflow-y-auto"><nav class="py-6 px-4"><ul class="space-y-6"><li><div class="px-3 mb-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Architecture</div><ul class="space-y-0.5"><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/structure/">Project Structure</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/database/">Database Schema</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/services/">Services</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/flow/">Message Flow</a></li></ul></li><li><div class="px-3 mb-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Developer Guide</div><ul class="space-y-0.5"><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/commands/">Extending Commands</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/tools/">Custom Tools</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/migrations/">Database Migrations</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/api/">API Reference</a></li></ul></li><li><div class="px-3 mb-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Deployment</div><ul class="space-y-0.5"><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/railway/">Railway</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/vps/">VPS Setup</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/docker/">Docker</a></li></ul></li></ul></nav></aside><main class="flex-1 min-w-0 lg:pl-[var(--sidebar-width)]"><div class="max-w-[var(--content-max-width)] mx-auto px-6 py-8 lg:px-8 lg:py-12"><article class="animate-in"><div class="flex items-start justify-between gap-4 mb-6"><nav aria-label="Breadcrumb" class="flex items-center gap-1.5 text-sm mb-4"><div class="flex items-center gap-1.5"><a class="text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors" href="/dev/commands/">Developer Guide</a></div></nav><button class="flex items-center gap-1.5 px-3 py-1.5 text-sm text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] rounded-md transition-colors border border-transparent hover:border-[var(--border)]" title="Copy page content"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy page</span></button></div><h1>Tools</h1><div class="prose-custom"><h1 id="custom-tools">Custom Tools</h1>
<p>Guide to adding new AI tools to Beboa.</p>
<h2 id="tool-architecture"><a href="#tool-architecture" class="anchor-link">Tool Architecture</a></h2>
<p>Tools let Beboa perform actions beyond text generation:</p>
<div class="relative group my-6"><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-lg p-4"><code class="font-mono block"><div class="px-4"><span>User: &quot;Draw a cat&quot;</span></div><div class="px-4"><span>         ‚îÇ</span></div><div class="px-4"><span>         ‚ñº</span></div><div class="px-4"><span>   AI decides to use tool</span></div><div class="px-4"><span>         ‚îÇ</span></div><div class="px-4"><span>         ‚ñº</span></div><div class="px-4"><span>   Tool call: generate_image({ prompt: &quot;cat&quot; })</span></div><div class="px-4"><span>         ‚îÇ</span></div><div class="px-4"><span>         ‚ñº</span></div><div class="px-4"><span>   Tool handler executes</span></div><div class="px-4"><span>         ‚îÇ</span></div><div class="px-4"><span>         ‚ñº</span></div><div class="px-4"><span>   Result sent to user</span></div></code></pre><button class="absolute top-3 right-3 flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all opacity-0 group-hover:opacity-100 bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<h2 id="creating-a-tool"><a href="#creating-a-tool" class="anchor-link">Creating a Tool</a></h2>
<h3 id="step-1-define-the-tool-schema"><a href="#step-1-define-the-tool-schema" class="anchor-link">Step 1: Define the Tool Schema</a></h3>
<p>In <code>src/services/tools.js</code>:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>const weatherTool = {</span></div><div class="px-4"><span>    type: &quot;function&quot;,</span></div><div class="px-4"><span>    function: {</span></div><div class="px-4"><span>        name: &quot;get_weather&quot;,</span></div><div class="px-4"><span>        description: &quot;Get the current weather for a location. Use this when users ask about weather.&quot;,</span></div><div class="px-4"><span>        parameters: {</span></div><div class="px-4"><span>            type: &quot;object&quot;,</span></div><div class="px-4"><span>            properties: {</span></div><div class="px-4"><span>                location: {</span></div><div class="px-4"><span>                    type: &quot;string&quot;,</span></div><div class="px-4"><span>                    description: &quot;City name or location, e.g., &#x27;San Francisco, CA&#x27;&quot;</span></div><div class="px-4"><span>                },</span></div><div class="px-4"><span>                units: {</span></div><div class="px-4"><span>                    type: &quot;string&quot;,</span></div><div class="px-4"><span>                    enum: [&quot;celsius&quot;, &quot;fahrenheit&quot;],</span></div><div class="px-4"><span>                    description: &quot;Temperature units&quot;</span></div><div class="px-4"><span>                }</span></div><div class="px-4"><span>            },</span></div><div class="px-4"><span>            required: [&quot;location&quot;]</span></div><div class="px-4"><span>        }</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>};</span></div></code></pre></div>
<h3 id="step-2-implement-the-handler"><a href="#step-2-implement-the-handler" class="anchor-link">Step 2: Implement the Handler</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>async function handleWeather(params) {</span></div><div class="px-4"><span>    const { location, units = &#x27;celsius&#x27; } = params;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    try {</span></div><div class="px-4"><span>        // Call weather API</span></div><div class="px-4"><span>        const response = await fetch(</span></div><div class="px-4"><span>            `https://api.weatherapi.com/v1/current.json?key=${process.env.WEATHER_API_KEY}&amp;q=${encodeURIComponent(location)}`</span></div><div class="px-4"><span>        );</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        if (!response.ok) {</span></div><div class="px-4"><span>            return { success: false, error: &#x27;Location not found&#x27; };</span></div><div class="px-4"><span>        }</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        const data = await response.json();</span></div><div class="px-4"><span>        const temp = units === &#x27;celsius&#x27;</span></div><div class="px-4"><span>            ? data.current.temp_c</span></div><div class="px-4"><span>            : data.current.temp_f;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        return {</span></div><div class="px-4"><span>            success: true,</span></div><div class="px-4"><span>            result: {</span></div><div class="px-4"><span>                location: data.location.name,</span></div><div class="px-4"><span>                temperature: temp,</span></div><div class="px-4"><span>                units: units,</span></div><div class="px-4"><span>                condition: data.current.condition.text,</span></div><div class="px-4"><span>                humidity: data.current.humidity</span></div><div class="px-4"><span>            }</span></div><div class="px-4"><span>        };</span></div><div class="px-4"><span>    } catch (error) {</span></div><div class="px-4"><span>        console.error(&#x27;[WEATHER TOOL ERROR]&#x27;, error);</span></div><div class="px-4"><span>        return { success: false, error: &#x27;Failed to fetch weather&#x27; };</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h3 id="step-3-register-the-tool"><a href="#step-3-register-the-tool" class="anchor-link">Step 3: Register the Tool</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>const toolRegistry = {</span></div><div class="px-4"><span>    generate_image: {</span></div><div class="px-4"><span>        definition: imageTool,</span></div><div class="px-4"><span>        handler: handleImageGeneration,</span></div><div class="px-4"><span>        enabled: () =&gt; process.env.IMAGE_GEN_ENABLED === &#x27;true&#x27;</span></div><div class="px-4"><span>    },</span></div><div class="px-4"><span>    roll_dice: {</span></div><div class="px-4"><span>        definition: diceTool,</span></div><div class="px-4"><span>        handler: handleDiceRoll,</span></div><div class="px-4"><span>        enabled: () =&gt; true</span></div><div class="px-4"><span>    },</span></div><div class="px-4"><span>    // Add your new tool:</span></div><div class="px-4"><span>    get_weather: {</span></div><div class="px-4"><span>        definition: weatherTool,</span></div><div class="px-4"><span>        handler: handleWeather,</span></div><div class="px-4"><span>        enabled: () =&gt; !!process.env.WEATHER_API_KEY</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>};</span></div></code></pre></div>
<h3 id="step-4-add-environment-variable-if-needed"><a href="#step-4-add-environment-variable-if-needed" class="anchor-link">Step 4: Add Environment Variable (if needed)</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">env</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>WEATHER_API_KEY=your_api_key_here</span></div></code></pre></div>
<h2 id="tool-definition-schema"><a href="#tool-definition-schema" class="anchor-link">Tool Definition Schema</a></h2>
<h3 id="basic-structure"><a href="#basic-structure" class="anchor-link">Basic Structure</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>{</span></div><div class="px-4"><span>    type: &quot;function&quot;,</span></div><div class="px-4"><span>    function: {</span></div><div class="px-4"><span>        name: &quot;tool_name&quot;,           // Unique identifier</span></div><div class="px-4"><span>        description: &quot;...&quot;,          // When AI should use this</span></div><div class="px-4"><span>        parameters: {</span></div><div class="px-4"><span>            type: &quot;object&quot;,</span></div><div class="px-4"><span>            properties: { ... },     // Input parameters</span></div><div class="px-4"><span>            required: [ ... ]        // Required parameters</span></div><div class="px-4"><span>        }</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h3 id="parameter-types"><a href="#parameter-types" class="anchor-link">Parameter Types</a></h3>
<p><strong>String:</strong></p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>property_name: {</span></div><div class="px-4"><span>    type: &quot;string&quot;,</span></div><div class="px-4"><span>    description: &quot;What this parameter is for&quot;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<p><strong>String with choices:</strong></p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>property_name: {</span></div><div class="px-4"><span>    type: &quot;string&quot;,</span></div><div class="px-4"><span>    enum: [&quot;option1&quot;, &quot;option2&quot;, &quot;option3&quot;],</span></div><div class="px-4"><span>    description: &quot;Select one of these options&quot;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<p><strong>Number:</strong></p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>property_name: {</span></div><div class="px-4"><span>    type: &quot;number&quot;,</span></div><div class="px-4"><span>    description: &quot;A numeric value&quot;,</span></div><div class="px-4"><span>    minimum: 0,</span></div><div class="px-4"><span>    maximum: 100</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<p><strong>Integer:</strong></p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>property_name: {</span></div><div class="px-4"><span>    type: &quot;integer&quot;,</span></div><div class="px-4"><span>    description: &quot;A whole number&quot;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<p><strong>Boolean:</strong></p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>property_name: {</span></div><div class="px-4"><span>    type: &quot;boolean&quot;,</span></div><div class="px-4"><span>    description: &quot;True or false flag&quot;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<p><strong>Array:</strong></p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>property_name: {</span></div><div class="px-4"><span>    type: &quot;array&quot;,</span></div><div class="px-4"><span>    items: { type: &quot;string&quot; },</span></div><div class="px-4"><span>    description: &quot;List of strings&quot;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h2 id="handler-best-practices"><a href="#handler-best-practices" class="anchor-link">Handler Best Practices</a></h2>
<h3 id="return-format"><a href="#return-format" class="anchor-link">Return Format</a></h3>
<p>Always return an object with <code>success</code> and either <code>result</code> or <code>error</code>:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// Success</span></div><div class="px-4"><span>return {</span></div><div class="px-4"><span>    success: true,</span></div><div class="px-4"><span>    result: { /* data */ }</span></div><div class="px-4"><span>};</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Failure</span></div><div class="px-4"><span>return {</span></div><div class="px-4"><span>    success: false,</span></div><div class="px-4"><span>    error: &quot;Human-readable error message&quot;</span></div><div class="px-4"><span>};</span></div></code></pre></div>
<h3 id="error-handling"><a href="#error-handling" class="anchor-link">Error Handling</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>async function handleMyTool(params) {</span></div><div class="px-4"><span>    try {</span></div><div class="px-4"><span>        // Validate input</span></div><div class="px-4"><span>        if (!params.requiredField) {</span></div><div class="px-4"><span>            return { success: false, error: &#x27;Missing required field&#x27; };</span></div><div class="px-4"><span>        }</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        // Do the thing</span></div><div class="px-4"><span>        const result = await doSomething(params);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        return { success: true, result };</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    } catch (error) {</span></div><div class="px-4"><span>        console.error(&#x27;[MY_TOOL ERROR]&#x27;, error);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        // Return user-friendly error</span></div><div class="px-4"><span>        return {</span></div><div class="px-4"><span>            success: false,</span></div><div class="px-4"><span>            error: error.message || &#x27;Something went wrong&#x27;</span></div><div class="px-4"><span>        };</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h3 id="rate-limiting"><a href="#rate-limiting" class="anchor-link">Rate Limiting</a></h3>
<p>For expensive operations:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>const toolCooldowns = new Map();</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>async function handleExpensiveTool(params, userId) {</span></div><div class="px-4"><span>    const cooldownKey = `expensive_tool:${userId}`;</span></div><div class="px-4"><span>    const lastUse = toolCooldowns.get(cooldownKey);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    if (lastUse &amp;&amp; Date.now() - lastUse &lt; 60000) {</span></div><div class="px-4"><span>        return {</span></div><div class="px-4"><span>            success: false,</span></div><div class="px-4"><span>            error: &#x27;Please wait a minute before using this again&#x27;</span></div><div class="px-4"><span>        };</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    toolCooldowns.set(cooldownKey, Date.now());</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    // Continue with operation...</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h2 id="tool-execution-flow"><a href="#tool-execution-flow" class="anchor-link">Tool Execution Flow</a></h2>
<p>The tools system processes calls like this:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// In chat.js</span></div><div class="px-4"><span>export async function handleToolCalls(response, message) {</span></div><div class="px-4"><span>    const toolCalls = response.choices[0].message.tool_calls;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    for (const toolCall of toolCalls) {</span></div><div class="px-4"><span>        const { name, arguments: argsJson } = toolCall.function;</span></div><div class="px-4"><span>        const args = JSON.parse(argsJson);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        // Get handler</span></div><div class="px-4"><span>        const tool = toolRegistry[name];</span></div><div class="px-4"><span>        if (!tool) {</span></div><div class="px-4"><span>            console.error(`Unknown tool: ${name}`);</span></div><div class="px-4"><span>            continue;</span></div><div class="px-4"><span>        }</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        // Execute handler</span></div><div class="px-4"><span>        const result = await tool.handler(args, message.author.id);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>        // Handle result</span></div><div class="px-4"><span>        if (result.success) {</span></div><div class="px-4"><span>            await sendToolResult(message, name, result.result);</span></div><div class="px-4"><span>        } else {</span></div><div class="px-4"><span>            await message.reply(`Tool error: ${result.error}`);</span></div><div class="px-4"><span>        }</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h2 id="complete-example-random-quote-tool"><a href="#complete-example-random-quote-tool" class="anchor-link">Complete Example: Random Quote Tool</a></h2>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// Tool definition</span></div><div class="px-4"><span>const quoteTool = {</span></div><div class="px-4"><span>    type: &quot;function&quot;,</span></div><div class="px-4"><span>    function: {</span></div><div class="px-4"><span>        name: &quot;random_quote&quot;,</span></div><div class="px-4"><span>        description: &quot;Get a random inspirational or funny quote. Use when users ask for motivation, inspiration, or quotes.&quot;,</span></div><div class="px-4"><span>        parameters: {</span></div><div class="px-4"><span>            type: &quot;object&quot;,</span></div><div class="px-4"><span>            properties: {</span></div><div class="px-4"><span>                category: {</span></div><div class="px-4"><span>                    type: &quot;string&quot;,</span></div><div class="px-4"><span>                    enum: [&quot;inspirational&quot;, &quot;funny&quot;, &quot;wisdom&quot;, &quot;random&quot;],</span></div><div class="px-4"><span>                    description: &quot;Category of quote&quot;</span></div><div class="px-4"><span>                }</span></div><div class="px-4"><span>            },</span></div><div class="px-4"><span>            required: []</span></div><div class="px-4"><span>        }</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>};</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Handler</span></div><div class="px-4"><span>async function handleRandomQuote(params) {</span></div><div class="px-4"><span>    const { category = &#x27;random&#x27; } = params;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    const quotes = {</span></div><div class="px-4"><span>        inspirational: [</span></div><div class="px-4"><span>            { text: &quot;The only way to do great work is to love what you do.&quot;, author: &quot;Steve Jobs&quot; },</span></div><div class="px-4"><span>            { text: &quot;Believe you can and you&#x27;re halfway there.&quot;, author: &quot;Theodore Roosevelt&quot; }</span></div><div class="px-4"><span>        ],</span></div><div class="px-4"><span>        funny: [</span></div><div class="px-4"><span>            { text: &quot;I&#x27;m not lazy, I&#x27;m on energy-saving mode.&quot;, author: &quot;Unknown&quot; },</span></div><div class="px-4"><span>            { text: &quot;I used to think I was indecisive, but now I&#x27;m not so sure.&quot;, author: &quot;Unknown&quot; }</span></div><div class="px-4"><span>        ],</span></div><div class="px-4"><span>        wisdom: [</span></div><div class="px-4"><span>            { text: &quot;The only true wisdom is knowing you know nothing.&quot;, author: &quot;Socrates&quot; },</span></div><div class="px-4"><span>            { text: &quot;In the middle of difficulty lies opportunity.&quot;, author: &quot;Einstein&quot; }</span></div><div class="px-4"><span>        ]</span></div><div class="px-4"><span>    };</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    // Get quotes pool</span></div><div class="px-4"><span>    let pool;</span></div><div class="px-4"><span>    if (category === &#x27;random&#x27;) {</span></div><div class="px-4"><span>        pool = Object.values(quotes).flat();</span></div><div class="px-4"><span>    } else {</span></div><div class="px-4"><span>        pool = quotes[category] || quotes.inspirational;</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    // Pick random quote</span></div><div class="px-4"><span>    const quote = pool[Math.floor(Math.random() * pool.length)];</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    return {</span></div><div class="px-4"><span>        success: true,</span></div><div class="px-4"><span>        result: {</span></div><div class="px-4"><span>            quote: quote.text,</span></div><div class="px-4"><span>            author: quote.author,</span></div><div class="px-4"><span>            category: category</span></div><div class="px-4"><span>        }</span></div><div class="px-4"><span>    };</span></div><div class="px-4"><span>}</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Register</span></div><div class="px-4"><span>const toolRegistry = {</span></div><div class="px-4"><span>    // ... other tools</span></div><div class="px-4"><span>    random_quote: {</span></div><div class="px-4"><span>        definition: quoteTool,</span></div><div class="px-4"><span>        handler: handleRandomQuote,</span></div><div class="px-4"><span>        enabled: () =&gt; true</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>};</span></div></code></pre></div>
<h2 id="testing-tools"><a href="#testing-tools" class="anchor-link">Testing Tools</a></h2>
<h3 id="manual-testing"><a href="#manual-testing" class="anchor-link">Manual Testing</a></h3>
<ol>
<li>Add console logs to handler</li>
<li>Restart bot</li>
<li>Trigger tool via chat: &quot;@Beboa give me a quote&quot;</li>
<li>Check logs for execution</li>
</ol>
<h3 id="debug-mode"><a href="#debug-mode" class="anchor-link">Debug Mode</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>const DEBUG_TOOLS = process.env.DEBUG_TOOLS === &#x27;true&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>async function handleMyTool(params) {</span></div><div class="px-4"><span>    if (DEBUG_TOOLS) {</span></div><div class="px-4"><span>        console.log(&#x27;[TOOL DEBUG]&#x27;, { name: &#x27;my_tool&#x27;, params });</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    // ... rest of handler</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    if (DEBUG_TOOLS) {</span></div><div class="px-4"><span>        console.log(&#x27;[TOOL DEBUG] Result:&#x27;, result);</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>    return result;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h2 id="tips"><a href="#tips" class="anchor-link">Tips</a></h2>
<ol>
<li><strong>Clear descriptions</strong> - Help AI know when to use the tool</li>
<li><strong>Validate inputs</strong> - Don&#x27;t trust parameter values blindly</li>
<li><strong>Handle failures</strong> - Always return meaningful errors</li>
<li><strong>Rate limit expensive ops</strong> - Prevent abuse</li>
<li><strong>Log for debugging</strong> - Track tool usage</li>
<li><strong>Test edge cases</strong> - Empty inputs, special characters, etc.</li>
</ol></div><nav class="flex items-center justify-between mt-16 pt-8 border-t border-[var(--border)]"><a class="group flex items-center gap-2 px-4 py-3 rounded-lg border border-[var(--border)] bg-[var(--bg-secondary)] hover:border-[var(--accent)] hover:shadow-soft transition-all" href="/dev/commands/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--accent)] transition-colors"><path d="m15 18-6-6 6-6"></path></svg><div class="text-left"><div class="text-xs text-[var(--text-muted)] mb-0.5">Previous</div><div class="text-sm font-medium text-[var(--text-primary)] group-hover:text-[var(--accent)] transition-colors">Extending Commands</div></div></a><a class="group flex items-center gap-2 px-4 py-3 rounded-lg border border-[var(--border)] bg-[var(--bg-secondary)] hover:border-[var(--accent)] hover:shadow-soft transition-all" href="/dev/migrations/"><div class="text-right"><div class="text-xs text-[var(--text-muted)] mb-0.5">Next</div><div class="text-sm font-medium text-[var(--text-primary)] group-hover:text-[var(--accent)] transition-colors">Database Migrations</div></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--accent)] transition-colors"><path d="m9 18 6-6-6-6"></path></svg></a></nav></article></div></main></div></div></div><script src="/_next/static/chunks/webpack-e5714bf66625afb9.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/443896d591e4f761-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/3cf59f0fd0496c15.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[2846,[],\"\"]\n7:I[4707,[],\"\"]\n9:I[6423,[],\"\"]\na:I[2060,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"ThemeProvider\"]\nb:I[4351,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"Header\"]\nc:I[9399,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"Sidebar\"]\ne:I[1060,[],\"\"]\n8:[\"slug\",\"dev/tools\",\"c\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L4\",null,{\"buildId\":\"FeUt14WxB_Uw-6zJdn3nr\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"dev\",\"tools\",\"\"],\"initialTree\":[\"\",{\"children\":[[\"slug\",\"dev/tools\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"dev\\\",\\\"tools\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"dev/tools\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",\"$L6\",null],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3cf59f0fd0496c15.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_f367f3 __variable_a06722 font-sans\",\"children\":[\"$\",\"$La\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-[var(--bg-primary)] transition-colors duration-200\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex\",\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 min-w-0 lg:pl-[var(--sidebar-width)]\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-[var(--content-max-width)] mx-auto px-6 py-8 lg:px-8 lg:py-12\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}]}]]}]]}]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]\n"])</script><script>self.__next_f.push([1,"10:I[6430,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"Breadcrumbs\"]\n11:I[9078,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"CopyPageButton\"]\n13:I[3308,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"PageNavigation\"]\n14:I[5321,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"TableOfContents\"]\n6:[[\"$\",\"article\",null,{\"className\":\"animate-in\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-start justify-between gap-4 mb-6\",\"children\":[[\"$\",\"$L10\",null,{}],[\"$\",\"$L11\",null,{}]]}],[\"$\",\"h1\",null,{\"children\":\"Tools\"}],\"$undefined\",[\"$\",\"div\",null,{\"className\":\"prose-custom\",\"children\":\"$L12\"}],[\"$\",\"$L13\",null,{}]]}],[\"$\",\"$L14\",null,{}]]\nd:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Tools - Beboa Docs\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"meta\",\"4\",{\"name\":\"next-size-adjust\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,"15:I[5045,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"CodeBlock\"]\n16:T402,async function handleWeather(params) {\n    const { location, units = 'celsius' } = params;\n\n    try {\n        // Call weather API\n        const response = await fetch(\n            `https://api.weatherapi.com/v1/current.json?key=${process.env.WEATHER_API_KEY}\u0026q=${encodeURIComponent(location)}`\n        );\n\n        if (!response.ok) {\n            return { success: false, error: 'Location not found' };\n        }\n\n        const data = await response.json();\n        const temp = units === 'celsius'\n            ? data.current.temp_c\n            : data.current.temp_f;\n\n        return {\n            success: true,\n            result: {\n                location: data.location.name,\n                temperature: temp,\n                units: units,\n                condition: data.current.condition.text,\n                humidity: data.current.humidity\n            }\n        };\n    } catch (error) {\n        console.error('[WEATHER TOOL ERROR]', error);\n        return { success: false, error: 'Failed to fetch weather' };\n    }\n}17:T7d1,// Tool definition\nconst quoteTool = {\n    type: \"function\",\n    function: {\n        name: \"random_quote\",\n        description: \"Get a random inspirational or funny quote. Use when users ask for motivation, inspiration, or quotes.\",\n        parameters: {\n            type: \"object\",\n            properties: {\n                category: {\n                    type: \"string\",\n                    enum: [\"inspirational\", \"funny\", \"wisdom\", \"random\"],\n                    description: \"Category of quote\"\n                }\n            },\n            required: []\n        }\n    }\n};\n\n// Handler\nasync function handleRandomQuote(params) {\n    const { category = 'random' } = params;\n\n    const quotes = {\n        inspirational: [\n            { text: \"The only way to do great work is to love what you do.\", author: \"Steve Jobs\" },\n"])</script><script>self.__next_f.push([1,"            { text: \"Believe you can and you're halfway there.\", author: \"Theodore Roosevelt\" }\n        ],\n        funny: [\n            { text: \"I'm not lazy, I'm on energy-saving mode.\", author: \"Unknown\" },\n            { text: \"I used to think I was indecisive, but now I'm not so sure.\", author: \"Unknown\" }\n        ],\n        wisdom: [\n            { text: \"The only true wisdom is knowing you know nothing.\", author: \"Socrates\" },\n            { text: \"In the middle of difficulty lies opportunity.\", author: \"Einstein\" }\n        ]\n    };\n\n    // Get quotes pool\n    let pool;\n    if (category === 'random') {\n        pool = Object.values(quotes).flat();\n    } else {\n        pool = quotes[category] || quotes.inspirational;\n    }\n\n    // Pick random quote\n    const quote = pool[Math.floor(Math.random() * pool.length)];\n\n    return {\n        success: true,\n        result: {\n            quote: quote.text,\n            author: quote.author,\n            category: category\n        }\n    };\n}\n\n// Register\nconst toolRegistry = {\n    // ... other tools\n    random_quote: {\n        definition: quoteTool,\n        handler: handleRandomQuote,\n        enabled: () =\u003e true\n    }\n};"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"h1\",null,{\"id\":\"custom-tools\",\"children\":\"Custom Tools\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Guide to adding new AI tools to Beboa.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"tool-architecture\",\"children\":[\"$\",\"a\",null,{\"href\":\"#tool-architecture\",\"className\":\"anchor-link\",\"children\":\"Tool Architecture\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Tools let Beboa perform actions beyond text generation:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"$undefined\",\"children\":\"User: \\\"Draw a cat\\\"\\n         ‚îÇ\\n         ‚ñº\\n   AI decides to use tool\\n         ‚îÇ\\n         ‚ñº\\n   Tool call: generate_image({ prompt: \\\"cat\\\" })\\n         ‚îÇ\\n         ‚ñº\\n   Tool handler executes\\n         ‚îÇ\\n         ‚ñº\\n   Result sent to user\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"creating-a-tool\",\"children\":[\"$\",\"a\",null,{\"href\":\"#creating-a-tool\",\"className\":\"anchor-link\",\"children\":\"Creating a Tool\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"step-1-define-the-tool-schema\",\"children\":[\"$\",\"a\",null,{\"href\":\"#step-1-define-the-tool-schema\",\"className\":\"anchor-link\",\"children\":\"Step 1: Define the Tool Schema\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In \",[\"$\",\"code\",null,{\"children\":\"src/services/tools.js\"}],\":\"]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"const weatherTool = {\\n    type: \\\"function\\\",\\n    function: {\\n        name: \\\"get_weather\\\",\\n        description: \\\"Get the current weather for a location. Use this when users ask about weather.\\\",\\n        parameters: {\\n            type: \\\"object\\\",\\n            properties: {\\n                location: {\\n                    type: \\\"string\\\",\\n                    description: \\\"City name or location, e.g., 'San Francisco, CA'\\\"\\n                },\\n                units: {\\n                    type: \\\"string\\\",\\n                    enum: [\\\"celsius\\\", \\\"fahrenheit\\\"],\\n                    description: \\\"Temperature units\\\"\\n                }\\n            },\\n            required: [\\\"location\\\"]\\n        }\\n    }\\n};\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"step-2-implement-the-handler\",\"children\":[\"$\",\"a\",null,{\"href\":\"#step-2-implement-the-handler\",\"className\":\"anchor-link\",\"children\":\"Step 2: Implement the Handler\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"$16\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"step-3-register-the-tool\",\"children\":[\"$\",\"a\",null,{\"href\":\"#step-3-register-the-tool\",\"className\":\"anchor-link\",\"children\":\"Step 3: Register the Tool\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"const toolRegistry = {\\n    generate_image: {\\n        definition: imageTool,\\n        handler: handleImageGeneration,\\n        enabled: () =\u003e process.env.IMAGE_GEN_ENABLED === 'true'\\n    },\\n    roll_dice: {\\n        definition: diceTool,\\n        handler: handleDiceRoll,\\n        enabled: () =\u003e true\\n    },\\n    // Add your new tool:\\n    get_weather: {\\n        definition: weatherTool,\\n        handler: handleWeather,\\n        enabled: () =\u003e !!process.env.WEATHER_API_KEY\\n    }\\n};\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"step-4-add-environment-variable-if-needed\",\"children\":[\"$\",\"a\",null,{\"href\":\"#step-4-add-environment-variable-if-needed\",\"className\":\"anchor-link\",\"children\":\"Step 4: Add Environment Variable (if needed)\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"env\",\"children\":\"WEATHER_API_KEY=your_api_key_here\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"tool-definition-schema\",\"children\":[\"$\",\"a\",null,{\"href\":\"#tool-definition-schema\",\"className\":\"anchor-link\",\"children\":\"Tool Definition Schema\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"basic-structure\",\"children\":[\"$\",\"a\",null,{\"href\":\"#basic-structure\",\"className\":\"anchor-link\",\"children\":\"Basic Structure\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"{\\n    type: \\\"function\\\",\\n    function: {\\n        name: \\\"tool_name\\\",           // Unique identifier\\n        description: \\\"...\\\",          // When AI should use this\\n        parameters: {\\n            type: \\\"object\\\",\\n            properties: { ... },     // Input parameters\\n            required: [ ... ]        // Required parameters\\n        }\\n    }\\n}\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"parameter-types\",\"children\":[\"$\",\"a\",null,{\"href\":\"#parameter-types\",\"className\":\"anchor-link\",\"children\":\"Parameter Types\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"String:\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"property_name: {\\n    type: \\\"string\\\",\\n    description: \\\"What this parameter is for\\\"\\n}\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"String with choices:\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"property_name: {\\n    type: \\\"string\\\",\\n    enum: [\\\"option1\\\", \\\"option2\\\", \\\"option3\\\"],\\n    description: \\\"Select one of these options\\\"\\n}\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Number:\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"property_name: {\\n    type: \\\"number\\\",\\n    description: \\\"A numeric value\\\",\\n    minimum: 0,\\n    maximum: 100\\n}\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Integer:\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"property_name: {\\n    type: \\\"integer\\\",\\n    description: \\\"A whole number\\\"\\n}\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Boolean:\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"property_name: {\\n    type: \\\"boolean\\\",\\n    description: \\\"True or false flag\\\"\\n}\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Array:\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"property_name: {\\n    type: \\\"array\\\",\\n    items: { type: \\\"string\\\" },\\n    description: \\\"List of strings\\\"\\n}\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"handler-best-practices\",\"children\":[\"$\",\"a\",null,{\"href\":\"#handler-best-practices\",\"className\":\"anchor-link\",\"children\":\"Handler Best Practices\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"return-format\",\"children\":[\"$\",\"a\",null,{\"href\":\"#return-format\",\"className\":\"anchor-link\",\"children\":\"Return Format\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Always return an object with \",[\"$\",\"code\",null,{\"children\":\"success\"}],\" and either \",[\"$\",\"code\",null,{\"children\":\"result\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"error\"}],\":\"]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// Success\\nreturn {\\n    success: true,\\n    result: { /* data */ }\\n};\\n\\n// Failure\\nreturn {\\n    success: false,\\n    error: \\\"Human-readable error message\\\"\\n};\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"error-handling\",\"children\":[\"$\",\"a\",null,{\"href\":\"#error-handling\",\"className\":\"anchor-link\",\"children\":\"Error Handling\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"async function handleMyTool(params) {\\n    try {\\n        // Validate input\\n        if (!params.requiredField) {\\n            return { success: false, error: 'Missing required field' };\\n        }\\n\\n        // Do the thing\\n        const result = await doSomething(params);\\n\\n        return { success: true, result };\\n\\n    } catch (error) {\\n        console.error('[MY_TOOL ERROR]', error);\\n\\n        // Return user-friendly error\\n        return {\\n            success: false,\\n            error: error.message || 'Something went wrong'\\n        };\\n    }\\n}\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"rate-limiting\",\"children\":[\"$\",\"a\",null,{\"href\":\"#rate-limiting\",\"className\":\"anchor-link\",\"children\":\"Rate Limiting\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"For expensive operations:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"const toolCooldowns = new Map();\\n\\nasync function handleExpensiveTool(params, userId) {\\n    const cooldownKey = `expensive_tool:${userId}`;\\n    const lastUse = toolCooldowns.get(cooldownKey);\\n\\n    if (lastUse \u0026\u0026 Date.now() - lastUse \u003c 60000) {\\n        return {\\n            success: false,\\n            error: 'Please wait a minute before using this again'\\n        };\\n    }\\n\\n    toolCooldowns.set(cooldownKey, Date.now());\\n\\n    // Continue with operation...\\n}\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"tool-execution-flow\",\"children\":[\"$\",\"a\",null,{\"href\":\"#tool-execution-flow\",\"className\":\"anchor-link\",\"children\":\"Tool Execution Flow\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The tools system processes calls like this:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// In chat.js\\nexport async function handleToolCalls(response, message) {\\n    const toolCalls = response.choices[0].message.tool_calls;\\n\\n    for (const toolCall of toolCalls) {\\n        const { name, arguments: argsJson } = toolCall.function;\\n        const args = JSON.parse(argsJson);\\n\\n        // Get handler\\n        const tool = toolRegistry[name];\\n        if (!tool) {\\n            console.error(`Unknown tool: ${name}`);\\n            continue;\\n        }\\n\\n        // Execute handler\\n        const result = await tool.handler(args, message.author.id);\\n\\n        // Handle result\\n        if (result.success) {\\n            await sendToolResult(message, name, result.result);\\n        } else {\\n            await message.reply(`Tool error: ${result.error}`);\\n        }\\n    }\\n}\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"complete-example-random-quote-tool\",\"children\":[\"$\",\"a\",null,{\"href\":\"#complete-example-random-quote-tool\",\"className\":\"anchor-link\",\"children\":\"Complete Example: Random Quote Tool\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"$17\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"testing-tools\",\"children\":[\"$\",\"a\",null,{\"href\":\"#testing-tools\",\"className\":\"anchor-link\",\"children\":\"Testing Tools\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"manual-testing\",\"children\":[\"$\",\"a\",null,{\"href\":\"#manual-testing\",\"className\":\"anchor-link\",\"children\":\"Manual Testing\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Add console logs to handler\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Restart bot\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Trigger tool via chat: \\\"@Beboa give me a quote\\\"\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Check logs for execution\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"debug-mode\",\"children\":[\"$\",\"a\",null,{\"href\":\"#debug-mode\",\"className\":\"anchor-link\",\"children\":\"Debug Mode\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"const DEBUG_TOOLS = process.env.DEBUG_TOOLS === 'true';\\n\\nasync function handleMyTool(params) {\\n    if (DEBUG_TOOLS) {\\n        console.log('[TOOL DEBUG]', { name: 'my_tool', params });\\n    }\\n\\n    // ... rest of handler\\n\\n    if (DEBUG_TOOLS) {\\n        console.log('[TOOL DEBUG] Result:', result);\\n    }\\n\\n    return result;\\n}\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"tips\",\"children\":[\"$\",\"a\",null,{\"href\":\"#tips\",\"className\":\"anchor-link\",\"children\":\"Tips\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Clear descriptions\"}],\" - Help AI know when to use the tool\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Validate inputs\"}],\" - Don't trust parameter values blindly\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Handle failures\"}],\" - Always return meaningful errors\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Rate limit expensive ops\"}],\" - Prevent abuse\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Log for debugging\"}],\" - Track tool usage\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Test edge cases\"}],\" - Empty inputs, special characters, etc.\"]}],\"\\n\"]}]]\n"])</script></body></html>