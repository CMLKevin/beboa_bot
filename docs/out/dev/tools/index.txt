3:I[4707,[],""]
5:I[6423,[],""]
6:I[2060,["972","static/chunks/972-68a674eeca97bbbb.js","646","static/chunks/646-1e67c3e800eb58dd.js","185","static/chunks/app/layout-4b75b78215e64ea2.js"],"ThemeProvider"]
7:I[4351,["972","static/chunks/972-68a674eeca97bbbb.js","646","static/chunks/646-1e67c3e800eb58dd.js","185","static/chunks/app/layout-4b75b78215e64ea2.js"],"Header"]
8:I[9399,["972","static/chunks/972-68a674eeca97bbbb.js","646","static/chunks/646-1e67c3e800eb58dd.js","185","static/chunks/app/layout-4b75b78215e64ea2.js"],"Sidebar"]
4:["slug","dev/tools","c"]
0:["FeUt14WxB_Uw-6zJdn3nr",[[["",{"children":[["slug","dev/tools","c"],{"children":["__PAGE__?{\"slug\":[\"dev\",\"tools\"]}",{}]}]},"$undefined","$undefined",true],["",{"children":[["slug","dev/tools","c"],{"children":["__PAGE__",{},[["$L1","$L2",null],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/3cf59f0fd0496c15.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_f367f3 __variable_a06722 font-sans","children":["$","$L6",null,{"children":["$","div",null,{"className":"min-h-screen bg-[var(--bg-primary)] transition-colors duration-200","children":[["$","$L7",null,{}],["$","div",null,{"className":"flex","children":[["$","$L8",null,{}],["$","main",null,{"className":"flex-1 min-w-0 lg:pl-[var(--sidebar-width)]","children":["$","div",null,{"className":"max-w-[var(--content-max-width)] mx-auto px-6 py-8 lg:px-8 lg:py-12","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}]}]}]]}]]}]}]}]}]],null],null],["$L9",null]]]]
a:I[6430,["972","static/chunks/972-68a674eeca97bbbb.js","646","static/chunks/646-1e67c3e800eb58dd.js","877","static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js"],"Breadcrumbs"]
b:I[9078,["972","static/chunks/972-68a674eeca97bbbb.js","646","static/chunks/646-1e67c3e800eb58dd.js","877","static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js"],"CopyPageButton"]
d:I[3308,["972","static/chunks/972-68a674eeca97bbbb.js","646","static/chunks/646-1e67c3e800eb58dd.js","877","static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js"],"PageNavigation"]
e:I[5321,["972","static/chunks/972-68a674eeca97bbbb.js","646","static/chunks/646-1e67c3e800eb58dd.js","877","static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js"],"TableOfContents"]
2:[["$","article",null,{"className":"animate-in","children":[["$","div",null,{"className":"flex items-start justify-between gap-4 mb-6","children":[["$","$La",null,{}],["$","$Lb",null,{}]]}],["$","h1",null,{"children":"Tools"}],"$undefined",["$","div",null,{"className":"prose-custom","children":"$Lc"}],["$","$Ld",null,{}]]}],["$","$Le",null,{}]]
9:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Tools - Beboa Docs"}],["$","link","3",{"rel":"icon","href":"/favicon.ico"}],["$","meta","4",{"name":"next-size-adjust"}]]
1:null
f:I[5045,["972","static/chunks/972-68a674eeca97bbbb.js","646","static/chunks/646-1e67c3e800eb58dd.js","877","static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js"],"CodeBlock"]
10:T402,async function handleWeather(params) {
    const { location, units = 'celsius' } = params;

    try {
        // Call weather API
        const response = await fetch(
            `https://api.weatherapi.com/v1/current.json?key=${process.env.WEATHER_API_KEY}&q=${encodeURIComponent(location)}`
        );

        if (!response.ok) {
            return { success: false, error: 'Location not found' };
        }

        const data = await response.json();
        const temp = units === 'celsius'
            ? data.current.temp_c
            : data.current.temp_f;

        return {
            success: true,
            result: {
                location: data.location.name,
                temperature: temp,
                units: units,
                condition: data.current.condition.text,
                humidity: data.current.humidity
            }
        };
    } catch (error) {
        console.error('[WEATHER TOOL ERROR]', error);
        return { success: false, error: 'Failed to fetch weather' };
    }
}11:T7d1,// Tool definition
const quoteTool = {
    type: "function",
    function: {
        name: "random_quote",
        description: "Get a random inspirational or funny quote. Use when users ask for motivation, inspiration, or quotes.",
        parameters: {
            type: "object",
            properties: {
                category: {
                    type: "string",
                    enum: ["inspirational", "funny", "wisdom", "random"],
                    description: "Category of quote"
                }
            },
            required: []
        }
    }
};

// Handler
async function handleRandomQuote(params) {
    const { category = 'random' } = params;

    const quotes = {
        inspirational: [
            { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
            { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" }
        ],
        funny: [
            { text: "I'm not lazy, I'm on energy-saving mode.", author: "Unknown" },
            { text: "I used to think I was indecisive, but now I'm not so sure.", author: "Unknown" }
        ],
        wisdom: [
            { text: "The only true wisdom is knowing you know nothing.", author: "Socrates" },
            { text: "In the middle of difficulty lies opportunity.", author: "Einstein" }
        ]
    };

    // Get quotes pool
    let pool;
    if (category === 'random') {
        pool = Object.values(quotes).flat();
    } else {
        pool = quotes[category] || quotes.inspirational;
    }

    // Pick random quote
    const quote = pool[Math.floor(Math.random() * pool.length)];

    return {
        success: true,
        result: {
            quote: quote.text,
            author: quote.author,
            category: category
        }
    };
}

// Register
const toolRegistry = {
    // ... other tools
    random_quote: {
        definition: quoteTool,
        handler: handleRandomQuote,
        enabled: () => true
    }
};c:[["$","h1",null,{"id":"custom-tools","children":"Custom Tools"}],"\n",["$","p",null,{"children":"Guide to adding new AI tools to Beboa."}],"\n",["$","h2",null,{"id":"tool-architecture","children":["$","a",null,{"href":"#tool-architecture","className":"anchor-link","children":"Tool Architecture"}]}],"\n",["$","p",null,{"children":"Tools let Beboa perform actions beyond text generation:"}],"\n",["$","$Lf",null,{"language":"$undefined","children":"User: \"Draw a cat\"\n         │\n         ▼\n   AI decides to use tool\n         │\n         ▼\n   Tool call: generate_image({ prompt: \"cat\" })\n         │\n         ▼\n   Tool handler executes\n         │\n         ▼\n   Result sent to user"}],"\n",["$","h2",null,{"id":"creating-a-tool","children":["$","a",null,{"href":"#creating-a-tool","className":"anchor-link","children":"Creating a Tool"}]}],"\n",["$","h3",null,{"id":"step-1-define-the-tool-schema","children":["$","a",null,{"href":"#step-1-define-the-tool-schema","className":"anchor-link","children":"Step 1: Define the Tool Schema"}]}],"\n",["$","p",null,{"children":["In ",["$","code",null,{"children":"src/services/tools.js"}],":"]}],"\n",["$","$Lf",null,{"language":"javascript","children":"const weatherTool = {\n    type: \"function\",\n    function: {\n        name: \"get_weather\",\n        description: \"Get the current weather for a location. Use this when users ask about weather.\",\n        parameters: {\n            type: \"object\",\n            properties: {\n                location: {\n                    type: \"string\",\n                    description: \"City name or location, e.g., 'San Francisco, CA'\"\n                },\n                units: {\n                    type: \"string\",\n                    enum: [\"celsius\", \"fahrenheit\"],\n                    description: \"Temperature units\"\n                }\n            },\n            required: [\"location\"]\n        }\n    }\n};"}],"\n",["$","h3",null,{"id":"step-2-implement-the-handler","children":["$","a",null,{"href":"#step-2-implement-the-handler","className":"anchor-link","children":"Step 2: Implement the Handler"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"$10"}],"\n",["$","h3",null,{"id":"step-3-register-the-tool","children":["$","a",null,{"href":"#step-3-register-the-tool","className":"anchor-link","children":"Step 3: Register the Tool"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"const toolRegistry = {\n    generate_image: {\n        definition: imageTool,\n        handler: handleImageGeneration,\n        enabled: () => process.env.IMAGE_GEN_ENABLED === 'true'\n    },\n    roll_dice: {\n        definition: diceTool,\n        handler: handleDiceRoll,\n        enabled: () => true\n    },\n    // Add your new tool:\n    get_weather: {\n        definition: weatherTool,\n        handler: handleWeather,\n        enabled: () => !!process.env.WEATHER_API_KEY\n    }\n};"}],"\n",["$","h3",null,{"id":"step-4-add-environment-variable-if-needed","children":["$","a",null,{"href":"#step-4-add-environment-variable-if-needed","className":"anchor-link","children":"Step 4: Add Environment Variable (if needed)"}]}],"\n",["$","$Lf",null,{"language":"env","children":"WEATHER_API_KEY=your_api_key_here"}],"\n",["$","h2",null,{"id":"tool-definition-schema","children":["$","a",null,{"href":"#tool-definition-schema","className":"anchor-link","children":"Tool Definition Schema"}]}],"\n",["$","h3",null,{"id":"basic-structure","children":["$","a",null,{"href":"#basic-structure","className":"anchor-link","children":"Basic Structure"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"{\n    type: \"function\",\n    function: {\n        name: \"tool_name\",           // Unique identifier\n        description: \"...\",          // When AI should use this\n        parameters: {\n            type: \"object\",\n            properties: { ... },     // Input parameters\n            required: [ ... ]        // Required parameters\n        }\n    }\n}"}],"\n",["$","h3",null,{"id":"parameter-types","children":["$","a",null,{"href":"#parameter-types","className":"anchor-link","children":"Parameter Types"}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"String:"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"property_name: {\n    type: \"string\",\n    description: \"What this parameter is for\"\n}"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"String with choices:"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"property_name: {\n    type: \"string\",\n    enum: [\"option1\", \"option2\", \"option3\"],\n    description: \"Select one of these options\"\n}"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Number:"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"property_name: {\n    type: \"number\",\n    description: \"A numeric value\",\n    minimum: 0,\n    maximum: 100\n}"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Integer:"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"property_name: {\n    type: \"integer\",\n    description: \"A whole number\"\n}"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Boolean:"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"property_name: {\n    type: \"boolean\",\n    description: \"True or false flag\"\n}"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Array:"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"property_name: {\n    type: \"array\",\n    items: { type: \"string\" },\n    description: \"List of strings\"\n}"}],"\n",["$","h2",null,{"id":"handler-best-practices","children":["$","a",null,{"href":"#handler-best-practices","className":"anchor-link","children":"Handler Best Practices"}]}],"\n",["$","h3",null,{"id":"return-format","children":["$","a",null,{"href":"#return-format","className":"anchor-link","children":"Return Format"}]}],"\n",["$","p",null,{"children":["Always return an object with ",["$","code",null,{"children":"success"}]," and either ",["$","code",null,{"children":"result"}]," or ",["$","code",null,{"children":"error"}],":"]}],"\n",["$","$Lf",null,{"language":"javascript","children":"// Success\nreturn {\n    success: true,\n    result: { /* data */ }\n};\n\n// Failure\nreturn {\n    success: false,\n    error: \"Human-readable error message\"\n};"}],"\n",["$","h3",null,{"id":"error-handling","children":["$","a",null,{"href":"#error-handling","className":"anchor-link","children":"Error Handling"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"async function handleMyTool(params) {\n    try {\n        // Validate input\n        if (!params.requiredField) {\n            return { success: false, error: 'Missing required field' };\n        }\n\n        // Do the thing\n        const result = await doSomething(params);\n\n        return { success: true, result };\n\n    } catch (error) {\n        console.error('[MY_TOOL ERROR]', error);\n\n        // Return user-friendly error\n        return {\n            success: false,\n            error: error.message || 'Something went wrong'\n        };\n    }\n}"}],"\n",["$","h3",null,{"id":"rate-limiting","children":["$","a",null,{"href":"#rate-limiting","className":"anchor-link","children":"Rate Limiting"}]}],"\n",["$","p",null,{"children":"For expensive operations:"}],"\n",["$","$Lf",null,{"language":"javascript","children":"const toolCooldowns = new Map();\n\nasync function handleExpensiveTool(params, userId) {\n    const cooldownKey = `expensive_tool:${userId}`;\n    const lastUse = toolCooldowns.get(cooldownKey);\n\n    if (lastUse && Date.now() - lastUse < 60000) {\n        return {\n            success: false,\n            error: 'Please wait a minute before using this again'\n        };\n    }\n\n    toolCooldowns.set(cooldownKey, Date.now());\n\n    // Continue with operation...\n}"}],"\n",["$","h2",null,{"id":"tool-execution-flow","children":["$","a",null,{"href":"#tool-execution-flow","className":"anchor-link","children":"Tool Execution Flow"}]}],"\n",["$","p",null,{"children":"The tools system processes calls like this:"}],"\n",["$","$Lf",null,{"language":"javascript","children":"// In chat.js\nexport async function handleToolCalls(response, message) {\n    const toolCalls = response.choices[0].message.tool_calls;\n\n    for (const toolCall of toolCalls) {\n        const { name, arguments: argsJson } = toolCall.function;\n        const args = JSON.parse(argsJson);\n\n        // Get handler\n        const tool = toolRegistry[name];\n        if (!tool) {\n            console.error(`Unknown tool: ${name}`);\n            continue;\n        }\n\n        // Execute handler\n        const result = await tool.handler(args, message.author.id);\n\n        // Handle result\n        if (result.success) {\n            await sendToolResult(message, name, result.result);\n        } else {\n            await message.reply(`Tool error: ${result.error}`);\n        }\n    }\n}"}],"\n",["$","h2",null,{"id":"complete-example-random-quote-tool","children":["$","a",null,{"href":"#complete-example-random-quote-tool","className":"anchor-link","children":"Complete Example: Random Quote Tool"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"$11"}],"\n",["$","h2",null,{"id":"testing-tools","children":["$","a",null,{"href":"#testing-tools","className":"anchor-link","children":"Testing Tools"}]}],"\n",["$","h3",null,{"id":"manual-testing","children":["$","a",null,{"href":"#manual-testing","className":"anchor-link","children":"Manual Testing"}]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Add console logs to handler"}],"\n",["$","li",null,{"children":"Restart bot"}],"\n",["$","li",null,{"children":"Trigger tool via chat: \"@Beboa give me a quote\""}],"\n",["$","li",null,{"children":"Check logs for execution"}],"\n"]}],"\n",["$","h3",null,{"id":"debug-mode","children":["$","a",null,{"href":"#debug-mode","className":"anchor-link","children":"Debug Mode"}]}],"\n",["$","$Lf",null,{"language":"javascript","children":"const DEBUG_TOOLS = process.env.DEBUG_TOOLS === 'true';\n\nasync function handleMyTool(params) {\n    if (DEBUG_TOOLS) {\n        console.log('[TOOL DEBUG]', { name: 'my_tool', params });\n    }\n\n    // ... rest of handler\n\n    if (DEBUG_TOOLS) {\n        console.log('[TOOL DEBUG] Result:', result);\n    }\n\n    return result;\n}"}],"\n",["$","h2",null,{"id":"tips","children":["$","a",null,{"href":"#tips","className":"anchor-link","children":"Tips"}]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"Clear descriptions"}]," - Help AI know when to use the tool"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Validate inputs"}]," - Don't trust parameter values blindly"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Handle failures"}]," - Always return meaningful errors"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Rate limit expensive ops"}]," - Prevent abuse"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Log for debugging"}]," - Track tool usage"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Test edge cases"}]," - Empty inputs, special characters, etc."]}],"\n"]}]]
