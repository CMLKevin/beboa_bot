<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/443896d591e4f761-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/3cf59f0fd0496c15.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-e5714bf66625afb9.js"/><script src="/_next/static/chunks/fd9d1056-e1b8fc02af805f43.js" async=""></script><script src="/_next/static/chunks/117-bf803eaaef7a29e0.js" async=""></script><script src="/_next/static/chunks/main-app-b6379442ececfbb8.js" async=""></script><script src="/_next/static/chunks/972-68a674eeca97bbbb.js" async=""></script><script src="/_next/static/chunks/646-1e67c3e800eb58dd.js" async=""></script><script src="/_next/static/chunks/app/layout-4b75b78215e64ea2.js" async=""></script><script src="/_next/static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js" async=""></script><title>Server-Wide Memory - Beboa Docs</title><meta name="description" content="Ambient awareness of all server activity through semantic memory."/><link rel="icon" href="/favicon.ico"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_f367f3 __variable_a06722 font-sans"><div style="visibility:hidden"><div class="min-h-screen bg-[var(--bg-primary)] transition-colors duration-200"><header class="sticky top-0 z-40 w-full h-[var(--header-height)] bg-[var(--bg-secondary)] border-b border-[var(--border)]"><div class="flex items-center justify-between h-full px-4 lg:px-6"><div class="flex items-center gap-6"><button class="lg:hidden p-2 -ml-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu w-5 h-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><a class="flex items-center gap-2 text-lg font-semibold text-[var(--text-primary)] hover:text-[var(--accent)] transition-colors" href="/"><span class="text-xl">ğŸ</span><span class="hidden sm:inline">Beboa</span><span class="hidden sm:inline text-xs font-normal text-[var(--text-muted)] ml-1">Docs</span></a><nav class="hidden lg:flex items-center gap-1"><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/">User Guide</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--accent)] bg-[var(--accent-light)]" href="/ai/">AI Systems</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/">Jarvis Mode</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/structure/">Reference</a></nav></div><div class="flex items-center gap-3"><div class="hidden sm:block"><button class="flex items-center gap-2 px-3 py-2 text-sm text-[var(--text-muted)] bg-[var(--bg-tertiary)] hover:bg-[var(--border)] rounded-lg border border-[var(--border)] transition-colors w-full max-w-[240px]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search w-4 h-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><span class="flex-1 text-left">Search docs...</span><kbd class="hidden sm:inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium text-[var(--text-muted)] bg-[var(--bg-secondary)] rounded border border-[var(--border)]"><span class="text-xs">âŒ˜</span>K</kbd></button></div><button class="sm:hidden p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Search"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button><a href="https://github.com/CMLKevin/beboa_evo" target="_blank" rel="noopener noreferrer" class="hidden sm:flex p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github w-5 h-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><button class="p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Switch to dark mode"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon w-5 h-5"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button></div></div></header><aside class="fixed inset-y-0 left-0 z-50 w-72 bg-[var(--bg-secondary)] border-r border-[var(--border)] transform transition-transform duration-300 ease-in-out lg:hidden -translate-x-full"><div class="flex items-center justify-between h-[var(--header-height)] px-4 border-b border-[var(--border)]"><a class="flex items-center gap-2 text-lg font-semibold text-[var(--text-primary)]" href="/"><span class="text-xl">ğŸ</span><span>Beboa</span></a><button class="p-2 -mr-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Close menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x w-5 h-5"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button></div><div class="p-4 border-b border-[var(--border)]"><div class="flex flex-wrap gap-2"><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/">User Guide</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--accent)] bg-[var(--accent-light)]" href="/ai/">AI Systems</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/jarvis/">Jarvis Mode</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/architecture/structure/">Reference</a></div></div><nav class="overflow-y-auto h-[calc(100%-128px)] py-4 px-4"><ul class="space-y-1"><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Getting Started</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/">Home</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/installation/">Installation</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/configuration/">Configuration</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/quickstart/">Quick Start</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Features</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/checkins/">Daily Check-ins</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/bebits/">Bebits &amp; Rewards</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/chat/">AI Chat</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">AI Systems</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--accent)] bg-[var(--accent-light)] font-medium" href="/ai/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/personality/">Dynamic Personality</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/moods/">Mood System</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/relationships/">Relationships</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/memory/">Semantic Memory</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/llm-evaluator/">LLM Evaluator</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/tools/">Tool Calls</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Jarvis Mode 2.0</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/commands/">Commands Reference</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/parsing/">Intent Parsing</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/fun/">Fun Commands</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Commands</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/commands/user/">User Commands</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/commands/admin/">Admin Commands</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Architecture</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/structure/">Project Structure</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/database/">Database Schema</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/services/">Services</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/flow/">Message Flow</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Developer Guide</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/commands/">Extending Commands</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/tools/">Custom Tools</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/migrations/">Database Migrations</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/api/">API Reference</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Deployment</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/railway/">Railway</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/vps/">VPS Setup</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/docker/">Docker</a></li></ul></li></ul></nav></aside><div class="flex"><aside class="hidden lg:block fixed top-[var(--header-height)] left-0 bottom-0 w-[var(--sidebar-width)] border-r border-[var(--border)] bg-[var(--bg-secondary)] overflow-y-auto"><nav class="py-6 px-4"><ul class="space-y-6"><li><div class="px-3 mb-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">AI Systems</div><ul class="space-y-0.5"><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/">Overview</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/personality/">Dynamic Personality</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/moods/">Mood System</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/relationships/">Relationships</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/memory/">Semantic Memory</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/llm-evaluator/">LLM Evaluator</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/tools/">Tool Calls</a></li></ul></li></ul></nav></aside><main class="flex-1 min-w-0 lg:pl-[var(--sidebar-width)]"><div class="max-w-[var(--content-max-width)] mx-auto px-6 py-8 lg:px-8 lg:py-12"><article class="animate-in"><div class="flex items-start justify-between gap-4 mb-6"><nav aria-label="Breadcrumb" class="flex items-center gap-1.5 text-sm mb-4"><div class="flex items-center gap-1.5"><a class="text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors" href="/ai/">AI Systems</a></div></nav><button class="flex items-center gap-1.5 px-3 py-1.5 text-sm text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] rounded-md transition-colors border border-transparent hover:border-[var(--border)]" title="Copy page content"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy page</span></button></div><h1>Server-Wide Memory</h1><p class="text-lg text-[var(--text-secondary)] mb-8 -mt-2">Ambient awareness of all server activity through semantic memory.</p><div class="prose-custom"><h1 id="server-wide-memory-system">Server-Wide Memory System</h1>
<p>Beboa has ambient awareness of ALL messages sent in the server, not just direct @mentions. This enables natural references to ongoing conversations, topic tracking, and deep knowledge recall.</p>
<h2 id="overview"><a href="#overview" class="anchor-link">Overview</a></h2>
<div class="relative group my-6"><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-lg p-4"><code class="font-mono block"><div class="px-4"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></div><div class="px-4"><span>â”‚                  Server-Wide Memory System                   â”‚</span></div><div class="px-4"><span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></div><div class="px-4"><span>â”‚                                                               â”‚</span></div><div class="px-4"><span>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚</span></div><div class="px-4"><span>â”‚  â”‚  Message    â”‚   â”‚  Embedding  â”‚   â”‚  Summarizer     â”‚    â”‚</span></div><div class="px-4"><span>â”‚  â”‚  Ingestion  â”‚   â”‚  Queue      â”‚   â”‚  Service        â”‚    â”‚</span></div><div class="px-4"><span>â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚</span></div><div class="px-4"><span>â”‚         â”‚                 â”‚                    â”‚              â”‚</span></div><div class="px-4"><span>â”‚         â–¼                 â–¼                    â–¼              â”‚</span></div><div class="px-4"><span>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚</span></div><div class="px-4"><span>â”‚  â”‚              Server Memory Database                    â”‚   â”‚</span></div><div class="px-4"><span>â”‚  â”‚  (messages, embeddings, summaries, topics)            â”‚   â”‚</span></div><div class="px-4"><span>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚</span></div><div class="px-4"><span>â”‚                          â”‚                                    â”‚</span></div><div class="px-4"><span>â”‚                          â–¼                                    â”‚</span></div><div class="px-4"><span>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚</span></div><div class="px-4"><span>â”‚  â”‚              Retrieval Service                         â”‚   â”‚</span></div><div class="px-4"><span>â”‚  â”‚  (ambient, semantic search, topic tracking)           â”‚   â”‚</span></div><div class="px-4"><span>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚</span></div><div class="px-4"><span>â”‚                                                               â”‚</span></div><div class="px-4"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></div></code></pre><button class="absolute top-3 right-3 flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all opacity-0 group-hover:opacity-100 bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<h2 id="capabilities"><a href="#capabilities" class="anchor-link">Capabilities</a></h2>
<h3 id="ambient-awareness"><a href="#ambient-awareness" class="anchor-link">Ambient Awareness</a></h3>
<p>Beboa notices what&#x27;s happening around the server:</p>
<blockquote>
<p>&quot;Oh, I saw you and Alex debating pizza toppings earlier. Pineapple team, huh? Bold choice~&quot;</p>
</blockquote>
<h3 id="deep-knowledge-recall"><a href="#deep-knowledge-recall" class="anchor-link">Deep Knowledge Recall</a></h3>
<p>Specific quotes and details from past conversations:</p>
<blockquote>
<p>&quot;Didn&#x27;t you say last week that you were &#x27;done with JavaScript forever&#x27;? And yet here we are~&quot;</p>
</blockquote>
<h3 id="topic-tracking"><a href="#topic-tracking" class="anchor-link">Topic Tracking</a></h3>
<p>Ongoing discussions across channels:</p>
<blockquote>
<p>&quot;People keep talking about &#x27;server movie night&#x27; - is that actually happening?&quot;</p>
</blockquote>
<h2 id="configuration"><a href="#configuration" class="anchor-link">Configuration</a></h2>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">env</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span># Enable server-wide memory (default: true)</span></div><div class="px-4"><span>SERVER_MEMORY_ENABLED=true</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Channels to monitor (empty = all channels)</span></div><div class="px-4"><span>SERVER_MEMORY_CHANNELS=</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Channels to exclude (comma-separated IDs)</span></div><div class="px-4"><span>SERVER_MEMORY_EXCLUDED_CHANNELS=</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Importance threshold for embedding (0-1, default: 0.3)</span></div><div class="px-4"><span>IMPORTANCE_THRESHOLD=0.3</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Embedding batch size (default: 10)</span></div><div class="px-4"><span>EMBEDDING_BATCH_SIZE=10</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Embedding processing interval in ms (default: 30000)</span></div><div class="px-4"><span>EMBEDDING_INTERVAL_MS=30000</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Enable hourly channel summaries (default: true)</span></div><div class="px-4"><span>HOURLY_SUMMARY_ENABLED=true</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Enable daily channel summaries (default: true)</span></div><div class="px-4"><span>DAILY_SUMMARY_ENABLED=true</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># How long to retain messages in days (default: 30)</span></div><div class="px-4"><span>SERVER_MEMORY_RETENTION_DAYS=30</span></div></code></pre></div>
<h2 id="how-it-works"><a href="#how-it-works" class="anchor-link">How It Works</a></h2>
<h3 id="1-message-ingestion"><a href="#1-message-ingestion" class="anchor-link">1. Message Ingestion</a></h3>
<p>Every message in the server is captured (non-blocking):</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// In index.js</span></div><div class="px-4"><span>client.on(Events.MessageCreate, async (message) =&gt; {</span></div><div class="px-4"><span>    if (config.SERVER_MEMORY_ENABLED &amp;&amp; !message.author.bot) {</span></div><div class="px-4"><span>        ingestMessage(message).catch(() =&gt; {}); // Silent, non-blocking</span></div><div class="px-4"><span>    }</span></div><div class="px-4"><span>});</span></div></code></pre></div>
<h3 id="2-importance-scoring"><a href="#2-importance-scoring" class="anchor-link">2. Importance Scoring</a></h3>
<p>Messages are scored for importance (0.0-1.0):</p>
<table><thead><tr><th>Factor</th><th>Weight</th><th>Description</th></tr></thead><tbody><tr><td>Content length</td><td>0.15</td><td>10-50 words is optimal</td></tr><tr><td>Question patterns</td><td>0.20</td><td>Contains ? or question words</td></tr><tr><td>Named entities</td><td>0.15</td><td>@mentions, roles, channels</td></tr><tr><td>Topic keywords</td><td>0.15</td><td>&quot;project&quot;, &quot;idea&quot;, &quot;plan&quot;, etc.</td></tr><tr><td>Emotional intensity</td><td>0.10</td><td>!, CAPS, emotional words</td></tr><tr><td>Breaking silence</td><td>0.10</td><td>First message after 30+ min</td></tr><tr><td>Attachments</td><td>0.05</td><td>Has images/files</td></tr></tbody></table>
<p><strong>Default threshold: 0.3</strong> - approximately 30% of messages get embedded.</p>
<h3 id="3-background-embedding"><a href="#3-background-embedding" class="anchor-link">3. Background Embedding</a></h3>
<p>High-importance messages are queued for embedding:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// Runs every 30 seconds</span></div><div class="px-4"><span>const batchSize = 10;</span></div><div class="px-4"><span>const pending = getPendingQueue(batchSize);</span></div><div class="px-4"><span>const embeddings = await generateEmbedding(pending.map(m =&gt; m.content));</span></div><div class="px-4"><span>storeEmbeddings(embeddings);</span></div></code></pre></div>
<h3 id="4-periodic-summarization"><a href="#4-periodic-summarization" class="anchor-link">4. Periodic Summarization</a></h3>
<p>Channels are summarized on schedule:</p>
<table><thead><tr><th>Period</th><th>Frequency</th><th>Min Messages</th><th>Purpose</th></tr></thead><tbody><tr><td>Hourly</td><td>:00 each hour</td><td>5</td><td>Topic tracking</td></tr><tr><td>Daily</td><td>2:00 AM</td><td>20</td><td>Channel digest</td></tr></tbody></table>
<h3 id="5-context-retrieval"><a href="#5-context-retrieval" class="anchor-link">5. Context Retrieval</a></h3>
<p>When Beboa responds, server memory is retrieved:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>const serverContext = await buildServerMemoryContext(</span></div><div class="px-4"><span>    guildId,</span></div><div class="px-4"><span>    channelId,</span></div><div class="px-4"><span>    userMessage,</span></div><div class="px-4"><span>    userId</span></div><div class="px-4"><span>);</span></div></code></pre></div>
<h2 id="context-injection"><a href="#context-injection" class="anchor-link">Context Injection</a></h2>
<p>Server memory is injected into Beboa&#x27;s system prompt:</p>
<div class="relative group my-6"><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-lg p-4"><code class="font-mono block"><div class="px-4"><span>[SERVER AWARENESS - What you&#x27;ve noticed around the server]</span></div><div class="px-4"><span>You&#x27;ve been aware of these recent happenings:</span></div><div class="px-4"><span>- (here) Alex: &quot;has anyone tried the new pizza place...&quot; (10 min ago)</span></div><div class="px-4"><span>- (other channel) Jordan: &quot;organizing a Minecraft session...&quot; (25 min ago)</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>[Reference casually if relevant - don&#x27;t force it]</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>[RELEVANT SERVER MEMORIES - Details you remember]</span></div><div class="px-4"><span>- Alex said: &quot;pineapple on pizza is a crime&quot; (today, #general)</span></div><div class="px-4"><span>- Jordan mentioned: &quot;we should do more game nights&quot; (2 days ago)</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>[Reference specific details when relevant to the conversation]</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>[ONGOING DISCUSSIONS - Topics people keep bringing up]</span></div><div class="px-4"><span>- &quot;Server Movie Night&quot; (12 mentions today)</span></div><div class="px-4"><span>- &quot;New art commission prices&quot; (8 mentions)</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>[You can reference these naturally]</span></div></code></pre><button class="absolute top-3 right-3 flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all opacity-0 group-hover:opacity-100 bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<h2 id="retrieval-modes"><a href="#retrieval-modes" class="anchor-link">Retrieval Modes</a></h2>
<h3 id="ambient-mode"><a href="#ambient-mode" class="anchor-link">Ambient Mode</a></h3>
<p>Recent activity awareness without semantic search:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>const ambient = await getAmbientContext(guildId, channelId, {</span></div><div class="px-4"><span>    lookbackMinutes: 60,</span></div><div class="px-4"><span>    limit: 10</span></div><div class="px-4"><span>});</span></div></code></pre></div>
<h3 id="deep-mode"><a href="#deep-mode" class="anchor-link">Deep Mode</a></h3>
<p>Semantic search for specific details:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>const relevant = await searchServerMemories(query, {</span></div><div class="px-4"><span>    guildId,</span></div><div class="px-4"><span>    limit: 5,</span></div><div class="px-4"><span>    threshold: 0.4</span></div><div class="px-4"><span>});</span></div></code></pre></div>
<h3 id="topic-mode"><a href="#topic-mode" class="anchor-link">Topic Mode</a></h3>
<p>Active discussion tracking:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>const topics = getActiveTopics(guildId, 5);</span></div><div class="px-4"><span>// Returns: [{ topic_name, mention_count, last_seen_at, status }]</span></div></code></pre></div>
<h2 id="database-tables"><a href="#database-tables" class="anchor-link">Database Tables</a></h2>
<h3 id="server_messages"><a href="#server_messages" class="anchor-link">server_messages</a></h3>
<p>Raw storage for ALL messages:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">sql</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>CREATE TABLE server_messages (</span></div><div class="px-4"><span>    id INTEGER PRIMARY KEY AUTOINCREMENT,</span></div><div class="px-4"><span>    message_id TEXT UNIQUE NOT NULL,</span></div><div class="px-4"><span>    channel_id TEXT NOT NULL,</span></div><div class="px-4"><span>    guild_id TEXT NOT NULL,</span></div><div class="px-4"><span>    author_id TEXT NOT NULL,</span></div><div class="px-4"><span>    author_name TEXT NOT NULL,</span></div><div class="px-4"><span>    content TEXT NOT NULL,</span></div><div class="px-4"><span>    importance_score REAL DEFAULT 0.0,</span></div><div class="px-4"><span>    embedding_status TEXT DEFAULT &#x27;pending&#x27;,</span></div><div class="px-4"><span>    discord_created_at TEXT NOT NULL</span></div><div class="px-4"><span>);</span></div></code></pre></div>
<h3 id="server_embeddings"><a href="#server_embeddings" class="anchor-link">server_embeddings</a></h3>
<p>Vectors for important messages:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">sql</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>CREATE TABLE server_embeddings (</span></div><div class="px-4"><span>    id INTEGER PRIMARY KEY AUTOINCREMENT,</span></div><div class="px-4"><span>    message_id INTEGER,</span></div><div class="px-4"><span>    embedding BLOB NOT NULL,  -- 1536-dim binary</span></div><div class="px-4"><span>    source_text TEXT NOT NULL,</span></div><div class="px-4"><span>    source_type TEXT DEFAULT &#x27;message&#x27;</span></div><div class="px-4"><span>);</span></div></code></pre></div>
<h3 id="channel_summaries"><a href="#channel_summaries" class="anchor-link">channel_summaries</a></h3>
<p>Periodic rollups:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">sql</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>CREATE TABLE channel_summaries (</span></div><div class="px-4"><span>    id INTEGER PRIMARY KEY AUTOINCREMENT,</span></div><div class="px-4"><span>    channel_id TEXT NOT NULL,</span></div><div class="px-4"><span>    guild_id TEXT NOT NULL,</span></div><div class="px-4"><span>    period_type TEXT NOT NULL,  -- hourly, daily</span></div><div class="px-4"><span>    period_start TEXT NOT NULL,</span></div><div class="px-4"><span>    summary TEXT NOT NULL,</span></div><div class="px-4"><span>    key_topics TEXT,  -- JSON array</span></div><div class="px-4"><span>    message_count INTEGER NOT NULL</span></div><div class="px-4"><span>);</span></div></code></pre></div>
<h3 id="active_topics"><a href="#active_topics" class="anchor-link">active_topics</a></h3>
<p>Topic lifecycle tracking:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">sql</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>CREATE TABLE active_topics (</span></div><div class="px-4"><span>    id INTEGER PRIMARY KEY AUTOINCREMENT,</span></div><div class="px-4"><span>    guild_id TEXT NOT NULL,</span></div><div class="px-4"><span>    topic_name TEXT NOT NULL,</span></div><div class="px-4"><span>    mention_count INTEGER DEFAULT 1,</span></div><div class="px-4"><span>    status TEXT DEFAULT &#x27;active&#x27;  -- active, cooling, dormant</span></div><div class="px-4"><span>);</span></div></code></pre></div>
<h2 id="services"><a href="#services" class="anchor-link">Services</a></h2>
<h3 id="messageingestionjs"><a href="#messageingestionjs" class="anchor-link">messageIngestion.js</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { ingestMessage, calculateImportanceScore } from &#x27;./services/messageIngestion.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Capture a message</span></div><div class="px-4"><span>await ingestMessage(discordMessage);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Check importance</span></div><div class="px-4"><span>const score = calculateImportanceScore(message);</span></div><div class="px-4"><span>// Returns: 0.0-1.0</span></div></code></pre></div>
<h3 id="embeddingqueuejs"><a href="#embeddingqueuejs" class="anchor-link">embeddingQueue.js</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { startProcessor, stopProcessor, getQueueStats } from &#x27;./services/embeddingQueue.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Start background processing</span></div><div class="px-4"><span>startProcessor();</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Check status</span></div><div class="px-4"><span>const stats = getQueueStats();</span></div><div class="px-4"><span>// { pending: 15, completed: 230, failed: 2, isRunning: true }</span></div></code></pre></div>
<h3 id="servermemoryjs"><a href="#servermemoryjs" class="anchor-link">serverMemory.js</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import {</span></div><div class="px-4"><span>    getAmbientContext,</span></div><div class="px-4"><span>    searchServerMemories,</span></div><div class="px-4"><span>    getActiveTopics,</span></div><div class="px-4"><span>    buildServerMemoryContext</span></div><div class="px-4"><span>} from &#x27;./services/serverMemory.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Get full context for AI</span></div><div class="px-4"><span>const context = await buildServerMemoryContext(guildId, channelId, query, userId);</span></div></code></pre></div>
<h3 id="summarizerjs"><a href="#summarizerjs" class="anchor-link">summarizer.js</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { startScheduler, runHourlySummaries, triggerSummary } from &#x27;./services/summarizer.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Start automatic summarization</span></div><div class="px-4"><span>startScheduler(guildId);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Manual trigger</span></div><div class="px-4"><span>await triggerSummary(channelId, guildId, &#x27;hourly&#x27;);</span></div></code></pre></div>
<h2 id="cost-estimation"><a href="#cost-estimation" class="anchor-link">Cost Estimation</a></h2>
<p>For a medium server (500 messages/day):</p>
<table><thead><tr><th>Component</th><th>Monthly Cost</th></tr></thead><tbody><tr><td>Embeddings (30% of messages)</td><td>~$0.005</td></tr><tr><td>Hourly summaries (5 active channels)</td><td>~$0.36</td></tr><tr><td>Daily summaries</td><td>~$0.09</td></tr><tr><td><strong>Total</strong></td><td><strong>~$0.50/month</strong></td></tr></tbody></table>
<p>With 1000 messages/day: ~$1-2/month</p>
<h2 id="privacy-considerations"><a href="#privacy-considerations" class="anchor-link">Privacy Considerations</a></h2>
<ul>
<li>All messages in monitored channels are stored</li>
<li>Bot messages are excluded</li>
<li>Excluded channels can be configured via <code>SERVER_MEMORY_EXCLUDED_CHANNELS</code></li>
<li>Messages are retained for <code>SERVER_MEMORY_RETENTION_DAYS</code> (default: 30)</li>
</ul>
<h2 id="difference-from-user-memory"><a href="#difference-from-user-memory" class="anchor-link">Difference from User Memory</a></h2>
<table><thead><tr><th>Feature</th><th>User Memory</th><th>Server Memory</th></tr></thead><tbody><tr><td>Scope</td><td>Per-user facts</td><td>All server activity</td></tr><tr><td>Source</td><td>Extracted facts</td><td>Raw messages</td></tr><tr><td>Retrieval</td><td>User-specific</td><td>Server-wide semantic search</td></tr><tr><td>Purpose</td><td>Remember preferences</td><td>Ambient awareness</td></tr></tbody></table>
<p>Both systems work together - Beboa uses user memory for personal facts and server memory for conversational awareness.</p>
<h2 id="best-practices"><a href="#best-practices" class="anchor-link">Best Practices</a></h2>
<ol>
<li><strong>Start with defaults</strong> - The 0.3 importance threshold works well</li>
<li><strong>Exclude private channels</strong> - Add sensitive channels to exclusion list</li>
<li><strong>Monitor costs</strong> - Check embedding queue stats periodically</li>
<li><strong>Don&#x27;t force references</strong> - Let Beboa reference naturally when relevant</li>
<li><strong>Trust the summaries</strong> - They capture the essence of activity</li>
</ol>
<h2 id="debugging"><a href="#debugging" class="anchor-link">Debugging</a></h2>
<p>Check server memory status:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { getStats } from &#x27;./services/serverMemory.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>const stats = getStats(guildId);</span></div><div class="px-4"><span>// { totalMessages: 1250, cachedEmbeddings: 380, lastCacheRefresh: &quot;...&quot; }</span></div></code></pre></div>
<p>Check embedding queue:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { getQueueStats } from &#x27;./services/embeddingQueue.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>const queueStats = getQueueStats();</span></div><div class="px-4"><span>// { pending: 5, completed: 500, failed: 2, isProcessing: false, isRunning: true }</span></div></code></pre></div></div><nav class="flex items-center justify-between mt-16 pt-8 border-t border-[var(--border)]"><a class="group flex items-center gap-2 px-4 py-3 rounded-lg border border-[var(--border)] bg-[var(--bg-secondary)] hover:border-[var(--accent)] hover:shadow-soft transition-all" href="/features/chat/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--accent)] transition-colors"><path d="m15 18-6-6 6-6"></path></svg><div class="text-left"><div class="text-xs text-[var(--text-muted)] mb-0.5">Previous</div><div class="text-sm font-medium text-[var(--text-primary)] group-hover:text-[var(--accent)] transition-colors">AI Chat</div></div></a><a class="group flex items-center gap-2 px-4 py-3 rounded-lg border border-[var(--border)] bg-[var(--bg-secondary)] hover:border-[var(--accent)] hover:shadow-soft transition-all" href="/ai/personality/"><div class="text-right"><div class="text-xs text-[var(--text-muted)] mb-0.5">Next</div><div class="text-sm font-medium text-[var(--text-primary)] group-hover:text-[var(--accent)] transition-colors">Dynamic Personality</div></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--accent)] transition-colors"><path d="m9 18 6-6-6-6"></path></svg></a></nav></article></div></main></div></div></div><script src="/_next/static/chunks/webpack-e5714bf66625afb9.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/443896d591e4f761-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/3cf59f0fd0496c15.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[2846,[],\"\"]\n7:I[4707,[],\"\"]\n9:I[6423,[],\"\"]\na:I[2060,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"ThemeProvider\"]\nb:I[4351,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"Header\"]\nc:I[9399,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"Sidebar\"]\ne:I[1060,[],\"\"]\n8:[\"slug\",\"ai/server-memory\",\"c\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L4\",null,{\"buildId\":\"FeUt14WxB_Uw-6zJdn3nr\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"ai\",\"server-memory\",\"\"],\"initialTree\":[\"\",{\"children\":[[\"slug\",\"ai/server-memory\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"ai\\\",\\\"server-memory\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"ai/server-memory\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",\"$L6\",null],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3cf59f0fd0496c15.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_f367f3 __variable_a06722 font-sans\",\"children\":[\"$\",\"$La\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-[var(--bg-primary)] transition-colors duration-200\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex\",\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 min-w-0 lg:pl-[var(--sidebar-width)]\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-[var(--content-max-width)] mx-auto px-6 py-8 lg:px-8 lg:py-12\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}]}]]}]]}]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]\n"])</script><script>self.__next_f.push([1,"10:I[6430,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"Breadcrumbs\"]\n11:I[9078,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"CopyPageButton\"]\n13:I[3308,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"PageNavigation\"]\n14:I[5321,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"TableOfContents\"]\n6:[[\"$\",\"article\",null,{\"className\":\"animate-in\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-start justify-between gap-4 mb-6\",\"children\":[[\"$\",\"$L10\",null,{}],[\"$\",\"$L11\",null,{}]]}],[\"$\",\"h1\",null,{\"children\":\"Server-Wide Memory\"}],[\"$\",\"p\",null,{\"className\":\"text-lg text-[var(--text-secondary)] mb-8 -mt-2\",\"children\":\"Ambient awareness of all server activity through semantic memory.\"}],[\"$\",\"div\",null,{\"className\":\"prose-custom\",\"children\":\"$L12\"}],[\"$\",\"$L13\",null,{}]]}],[\"$\",\"$L14\",null,{}]]\nd:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Server-Wide Memory - Beboa Docs\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Ambient awareness of all server activity through semantic memory.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,"15:I[5045,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"CodeBlock\"]\n16:Ta14,"])</script><script>self.__next_f.push([1,"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                  Server-Wide Memory System                   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                               â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚\nâ”‚  â”‚  Message    â”‚   â”‚  Embedding  â”‚   â”‚  Summarizer     â”‚    â”‚\nâ”‚  â”‚  Ingestion  â”‚   â”‚  Queue      â”‚   â”‚  Service        â”‚    â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚\nâ”‚         â”‚                 â”‚                    â”‚              â”‚\nâ”‚         â–¼                 â–¼                    â–¼              â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚              Server Memory Database                    â”‚   â”‚\nâ”‚  â”‚  (messages, embeddings, summaries, topics)            â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                          â”‚                                    â”‚\nâ”‚                          â–¼                                    â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚              Retrieval Service                         â”‚   â”‚\nâ”‚  â”‚  (ambient, semantic search, topic tracking)           â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                                                               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"h1\",null,{\"id\":\"server-wide-memory-system\",\"children\":\"Server-Wide Memory System\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Beboa has ambient awareness of ALL messages sent in the server, not just direct @mentions. This enables natural references to ongoing conversations, topic tracking, and deep knowledge recall.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"overview\",\"children\":[\"$\",\"a\",null,{\"href\":\"#overview\",\"className\":\"anchor-link\",\"children\":\"Overview\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"$undefined\",\"children\":\"$16\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"capabilities\",\"children\":[\"$\",\"a\",null,{\"href\":\"#capabilities\",\"className\":\"anchor-link\",\"children\":\"Capabilities\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"ambient-awareness\",\"children\":[\"$\",\"a\",null,{\"href\":\"#ambient-awareness\",\"className\":\"anchor-link\",\"children\":\"Ambient Awareness\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Beboa notices what's happening around the server:\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"\\\"Oh, I saw you and Alex debating pizza toppings earlier. Pineapple team, huh? Bold choice~\\\"\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"deep-knowledge-recall\",\"children\":[\"$\",\"a\",null,{\"href\":\"#deep-knowledge-recall\",\"className\":\"anchor-link\",\"children\":\"Deep Knowledge Recall\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Specific quotes and details from past conversations:\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"\\\"Didn't you say last week that you were 'done with JavaScript forever'? And yet here we are~\\\"\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"topic-tracking\",\"children\":[\"$\",\"a\",null,{\"href\":\"#topic-tracking\",\"className\":\"anchor-link\",\"children\":\"Topic Tracking\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Ongoing discussions across channels:\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"\\\"People keep talking about 'server movie night' - is that actually happening?\\\"\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"configuration\",\"children\":[\"$\",\"a\",null,{\"href\":\"#configuration\",\"className\":\"anchor-link\",\"children\":\"Configuration\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"env\",\"children\":\"# Enable server-wide memory (default: true)\\nSERVER_MEMORY_ENABLED=true\\n\\n# Channels to monitor (empty = all channels)\\nSERVER_MEMORY_CHANNELS=\\n\\n# Channels to exclude (comma-separated IDs)\\nSERVER_MEMORY_EXCLUDED_CHANNELS=\\n\\n# Importance threshold for embedding (0-1, default: 0.3)\\nIMPORTANCE_THRESHOLD=0.3\\n\\n# Embedding batch size (default: 10)\\nEMBEDDING_BATCH_SIZE=10\\n\\n# Embedding processing interval in ms (default: 30000)\\nEMBEDDING_INTERVAL_MS=30000\\n\\n# Enable hourly channel summaries (default: true)\\nHOURLY_SUMMARY_ENABLED=true\\n\\n# Enable daily channel summaries (default: true)\\nDAILY_SUMMARY_ENABLED=true\\n\\n# How long to retain messages in days (default: 30)\\nSERVER_MEMORY_RETENTION_DAYS=30\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"how-it-works\",\"children\":[\"$\",\"a\",null,{\"href\":\"#how-it-works\",\"className\":\"anchor-link\",\"children\":\"How It Works\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-message-ingestion\",\"children\":[\"$\",\"a\",null,{\"href\":\"#1-message-ingestion\",\"className\":\"anchor-link\",\"children\":\"1. Message Ingestion\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Every message in the server is captured (non-blocking):\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// In index.js\\nclient.on(Events.MessageCreate, async (message) =\u003e {\\n    if (config.SERVER_MEMORY_ENABLED \u0026\u0026 !message.author.bot) {\\n        ingestMessage(message).catch(() =\u003e {}); // Silent, non-blocking\\n    }\\n});\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-importance-scoring\",\"children\":[\"$\",\"a\",null,{\"href\":\"#2-importance-scoring\",\"className\":\"anchor-link\",\"children\":\"2. Importance Scoring\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Messages are scored for importance (0.0-1.0):\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"Factor\"}],[\"$\",\"th\",null,{\"children\":\"Weight\"}],[\"$\",\"th\",null,{\"children\":\"Description\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Content length\"}],[\"$\",\"td\",null,{\"children\":\"0.15\"}],[\"$\",\"td\",null,{\"children\":\"10-50 words is optimal\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Question patterns\"}],[\"$\",\"td\",null,{\"children\":\"0.20\"}],[\"$\",\"td\",null,{\"children\":\"Contains ? or question words\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Named entities\"}],[\"$\",\"td\",null,{\"children\":\"0.15\"}],[\"$\",\"td\",null,{\"children\":\"@mentions, roles, channels\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Topic keywords\"}],[\"$\",\"td\",null,{\"children\":\"0.15\"}],[\"$\",\"td\",null,{\"children\":\"\\\"project\\\", \\\"idea\\\", \\\"plan\\\", etc.\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Emotional intensity\"}],[\"$\",\"td\",null,{\"children\":\"0.10\"}],[\"$\",\"td\",null,{\"children\":\"!, CAPS, emotional words\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Breaking silence\"}],[\"$\",\"td\",null,{\"children\":\"0.10\"}],[\"$\",\"td\",null,{\"children\":\"First message after 30+ min\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Attachments\"}],[\"$\",\"td\",null,{\"children\":\"0.05\"}],[\"$\",\"td\",null,{\"children\":\"Has images/files\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Default threshold: 0.3\"}],\" - approximately 30% of messages get embedded.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"3-background-embedding\",\"children\":[\"$\",\"a\",null,{\"href\":\"#3-background-embedding\",\"className\":\"anchor-link\",\"children\":\"3. Background Embedding\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"High-importance messages are queued for embedding:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// Runs every 30 seconds\\nconst batchSize = 10;\\nconst pending = getPendingQueue(batchSize);\\nconst embeddings = await generateEmbedding(pending.map(m =\u003e m.content));\\nstoreEmbeddings(embeddings);\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"4-periodic-summarization\",\"children\":[\"$\",\"a\",null,{\"href\":\"#4-periodic-summarization\",\"className\":\"anchor-link\",\"children\":\"4. Periodic Summarization\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Channels are summarized on schedule:\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"Period\"}],[\"$\",\"th\",null,{\"children\":\"Frequency\"}],[\"$\",\"th\",null,{\"children\":\"Min Messages\"}],[\"$\",\"th\",null,{\"children\":\"Purpose\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Hourly\"}],[\"$\",\"td\",null,{\"children\":\":00 each hour\"}],[\"$\",\"td\",null,{\"children\":\"5\"}],[\"$\",\"td\",null,{\"children\":\"Topic tracking\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Daily\"}],[\"$\",\"td\",null,{\"children\":\"2:00 AM\"}],[\"$\",\"td\",null,{\"children\":\"20\"}],[\"$\",\"td\",null,{\"children\":\"Channel digest\"}]]}]]}]]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"5-context-retrieval\",\"children\":[\"$\",\"a\",null,{\"href\":\"#5-context-retrieval\",\"className\":\"anchor-link\",\"children\":\"5. Context Retrieval\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"When Beboa responds, server memory is retrieved:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"const serverContext = await buildServerMemoryContext(\\n    guildId,\\n    channelId,\\n    userMessage,\\n    userId\\n);\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"context-injection\",\"children\":[\"$\",\"a\",null,{\"href\":\"#context-injection\",\"className\":\"anchor-link\",\"children\":\"Context Injection\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Server memory is injected into Beboa's system prompt:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"$undefined\",\"children\":\"[SERVER AWARENESS - What you've noticed around the server]\\nYou've been aware of these recent happenings:\\n- (here) Alex: \\\"has anyone tried the new pizza place...\\\" (10 min ago)\\n- (other channel) Jordan: \\\"organizing a Minecraft session...\\\" (25 min ago)\\n\\n[Reference casually if relevant - don't force it]\\n\\n[RELEVANT SERVER MEMORIES - Details you remember]\\n- Alex said: \\\"pineapple on pizza is a crime\\\" (today, #general)\\n- Jordan mentioned: \\\"we should do more game nights\\\" (2 days ago)\\n\\n[Reference specific details when relevant to the conversation]\\n\\n[ONGOING DISCUSSIONS - Topics people keep bringing up]\\n- \\\"Server Movie Night\\\" (12 mentions today)\\n- \\\"New art commission prices\\\" (8 mentions)\\n\\n[You can reference these naturally]\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"retrieval-modes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#retrieval-modes\",\"className\":\"anchor-link\",\"children\":\"Retrieval Modes\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"ambient-mode\",\"children\":[\"$\",\"a\",null,{\"href\":\"#ambient-mode\",\"className\":\"anchor-link\",\"children\":\"Ambient Mode\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Recent activity awareness without semantic search:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"const ambient = await getAmbientContext(guildId, channelId, {\\n    lookbackMinutes: 60,\\n    limit: 10\\n});\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"deep-mode\",\"children\":[\"$\",\"a\",null,{\"href\":\"#deep-mode\",\"className\":\"anchor-link\",\"children\":\"Deep Mode\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Semantic search for specific details:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"const relevant = await searchServerMemories(query, {\\n    guildId,\\n    limit: 5,\\n    threshold: 0.4\\n});\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"topic-mode\",\"children\":[\"$\",\"a\",null,{\"href\":\"#topic-mode\",\"className\":\"anchor-link\",\"children\":\"Topic Mode\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Active discussion tracking:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"const topics = getActiveTopics(guildId, 5);\\n// Returns: [{ topic_name, mention_count, last_seen_at, status }]\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"database-tables\",\"children\":[\"$\",\"a\",null,{\"href\":\"#database-tables\",\"className\":\"anchor-link\",\"children\":\"Database Tables\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"server_messages\",\"children\":[\"$\",\"a\",null,{\"href\":\"#server_messages\",\"className\":\"anchor-link\",\"children\":\"server_messages\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Raw storage for ALL messages:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"sql\",\"children\":\"CREATE TABLE server_messages (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n    message_id TEXT UNIQUE NOT NULL,\\n    channel_id TEXT NOT NULL,\\n    guild_id TEXT NOT NULL,\\n    author_id TEXT NOT NULL,\\n    author_name TEXT NOT NULL,\\n    content TEXT NOT NULL,\\n    importance_score REAL DEFAULT 0.0,\\n    embedding_status TEXT DEFAULT 'pending',\\n    discord_created_at TEXT NOT NULL\\n);\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"server_embeddings\",\"children\":[\"$\",\"a\",null,{\"href\":\"#server_embeddings\",\"className\":\"anchor-link\",\"children\":\"server_embeddings\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Vectors for important messages:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"sql\",\"children\":\"CREATE TABLE server_embeddings (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n    message_id INTEGER,\\n    embedding BLOB NOT NULL,  -- 1536-dim binary\\n    source_text TEXT NOT NULL,\\n    source_type TEXT DEFAULT 'message'\\n);\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"channel_summaries\",\"children\":[\"$\",\"a\",null,{\"href\":\"#channel_summaries\",\"className\":\"anchor-link\",\"children\":\"channel_summaries\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Periodic rollups:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"sql\",\"children\":\"CREATE TABLE channel_summaries (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n    channel_id TEXT NOT NULL,\\n    guild_id TEXT NOT NULL,\\n    period_type TEXT NOT NULL,  -- hourly, daily\\n    period_start TEXT NOT NULL,\\n    summary TEXT NOT NULL,\\n    key_topics TEXT,  -- JSON array\\n    message_count INTEGER NOT NULL\\n);\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"active_topics\",\"children\":[\"$\",\"a\",null,{\"href\":\"#active_topics\",\"className\":\"anchor-link\",\"children\":\"active_topics\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Topic lifecycle tracking:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"sql\",\"children\":\"CREATE TABLE active_topics (\\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\\n    guild_id TEXT NOT NULL,\\n    topic_name TEXT NOT NULL,\\n    mention_count INTEGER DEFAULT 1,\\n    status TEXT DEFAULT 'active'  -- active, cooling, dormant\\n);\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"services\",\"children\":[\"$\",\"a\",null,{\"href\":\"#services\",\"className\":\"anchor-link\",\"children\":\"Services\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"messageingestionjs\",\"children\":[\"$\",\"a\",null,{\"href\":\"#messageingestionjs\",\"className\":\"anchor-link\",\"children\":\"messageIngestion.js\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { ingestMessage, calculateImportanceScore } from './services/messageIngestion.js';\\n\\n// Capture a message\\nawait ingestMessage(discordMessage);\\n\\n// Check importance\\nconst score = calculateImportanceScore(message);\\n// Returns: 0.0-1.0\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"embeddingqueuejs\",\"children\":[\"$\",\"a\",null,{\"href\":\"#embeddingqueuejs\",\"className\":\"anchor-link\",\"children\":\"embeddingQueue.js\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { startProcessor, stopProcessor, getQueueStats } from './services/embeddingQueue.js';\\n\\n// Start background processing\\nstartProcessor();\\n\\n// Check status\\nconst stats = getQueueStats();\\n// { pending: 15, completed: 230, failed: 2, isRunning: true }\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"servermemoryjs\",\"children\":[\"$\",\"a\",null,{\"href\":\"#servermemoryjs\",\"className\":\"anchor-link\",\"children\":\"serverMemory.js\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import {\\n    getAmbientContext,\\n    searchServerMemories,\\n    getActiveTopics,\\n    buildServerMemoryContext\\n} from './services/serverMemory.js';\\n\\n// Get full context for AI\\nconst context = await buildServerMemoryContext(guildId, channelId, query, userId);\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"summarizerjs\",\"children\":[\"$\",\"a\",null,{\"href\":\"#summarizerjs\",\"className\":\"anchor-link\",\"children\":\"summarizer.js\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { startScheduler, runHourlySummaries, triggerSummary } from './services/summarizer.js';\\n\\n// Start automatic summarization\\nstartScheduler(guildId);\\n\\n// Manual trigger\\nawait triggerSummary(channelId, guildId, 'hourly');\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"cost-estimation\",\"children\":[\"$\",\"a\",null,{\"href\":\"#cost-estimation\",\"className\":\"anchor-link\",\"children\":\"Cost Estimation\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"For a medium server (500 messages/day):\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"Component\"}],[\"$\",\"th\",null,{\"children\":\"Monthly Cost\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Embeddings (30% of messages)\"}],[\"$\",\"td\",null,{\"children\":\"~$0.005\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Hourly summaries (5 active channels)\"}],[\"$\",\"td\",null,{\"children\":\"~$0.36\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Daily summaries\"}],[\"$\",\"td\",null,{\"children\":\"~$0.09\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Total\"}]}],[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"~$0.50/month\"}]}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"With 1000 messages/day: ~$1-2/month\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"privacy-considerations\",\"children\":[\"$\",\"a\",null,{\"href\":\"#privacy-considerations\",\"className\":\"anchor-link\",\"children\":\"Privacy Considerations\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"All messages in monitored channels are stored\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Bot messages are excluded\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Excluded channels can be configured via \",[\"$\",\"code\",null,{\"children\":\"SERVER_MEMORY_EXCLUDED_CHANNELS\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Messages are retained for \",[\"$\",\"code\",null,{\"children\":\"SERVER_MEMORY_RETENTION_DAYS\"}],\" (default: 30)\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"difference-from-user-memory\",\"children\":[\"$\",\"a\",null,{\"href\":\"#difference-from-user-memory\",\"className\":\"anchor-link\",\"children\":\"Difference from User Memory\"}]}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"Feature\"}],[\"$\",\"th\",null,{\"children\":\"User Memory\"}],[\"$\",\"th\",null,{\"children\":\"Server Memory\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Scope\"}],[\"$\",\"td\",null,{\"children\":\"Per-user facts\"}],[\"$\",\"td\",null,{\"children\":\"All server activity\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Source\"}],[\"$\",\"td\",null,{\"children\":\"Extracted facts\"}],[\"$\",\"td\",null,{\"children\":\"Raw messages\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Retrieval\"}],[\"$\",\"td\",null,{\"children\":\"User-specific\"}],[\"$\",\"td\",null,{\"children\":\"Server-wide semantic search\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Purpose\"}],[\"$\",\"td\",null,{\"children\":\"Remember preferences\"}],[\"$\",\"td\",null,{\"children\":\"Ambient awareness\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Both systems work together - Beboa uses user memory for personal facts and server memory for conversational awareness.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"best-practices\",\"children\":[\"$\",\"a\",null,{\"href\":\"#best-practices\",\"className\":\"anchor-link\",\"children\":\"Best Practices\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Start with defaults\"}],\" - The 0.3 importance threshold works well\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Exclude private channels\"}],\" - Add sensitive channels to exclusion list\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Monitor costs\"}],\" - Check embedding queue stats periodically\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Don't force references\"}],\" - Let Beboa reference naturally when relevant\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Trust the summaries\"}],\" - They capture the essence of activity\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"debugging\",\"children\":[\"$\",\"a\",null,{\"href\":\"#debugging\",\"className\":\"anchor-link\",\"children\":\"Debugging\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Check server memory status:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { getStats } from './services/serverMemory.js';\\n\\nconst stats = getStats(guildId);\\n// { totalMessages: 1250, cachedEmbeddings: 380, lastCacheRefresh: \\\"...\\\" }\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Check embedding queue:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { getQueueStats } from './services/embeddingQueue.js';\\n\\nconst queueStats = getQueueStats();\\n// { pending: 5, completed: 500, failed: 2, isProcessing: false, isRunning: true }\"}]]\n"])</script></body></html>