<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/443896d591e4f761-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/3cf59f0fd0496c15.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-e5714bf66625afb9.js"/><script src="/_next/static/chunks/fd9d1056-e1b8fc02af805f43.js" async=""></script><script src="/_next/static/chunks/117-bf803eaaef7a29e0.js" async=""></script><script src="/_next/static/chunks/main-app-b6379442ececfbb8.js" async=""></script><script src="/_next/static/chunks/972-68a674eeca97bbbb.js" async=""></script><script src="/_next/static/chunks/646-1e67c3e800eb58dd.js" async=""></script><script src="/_next/static/chunks/app/layout-4b75b78215e64ea2.js" async=""></script><script src="/_next/static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js" async=""></script><title>LLM Evaluator - Beboa Docs</title><meta name="description" content="Centralized LLM service for mood detection, relationships, and Jarvis parsing."/><link rel="icon" href="/favicon.ico"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_f367f3 __variable_a06722 font-sans"><div style="visibility:hidden"><div class="min-h-screen bg-[var(--bg-primary)] transition-colors duration-200"><header class="sticky top-0 z-40 w-full h-[var(--header-height)] bg-[var(--bg-secondary)] border-b border-[var(--border)]"><div class="flex items-center justify-between h-full px-4 lg:px-6"><div class="flex items-center gap-6"><button class="lg:hidden p-2 -ml-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu w-5 h-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><a class="flex items-center gap-2 text-lg font-semibold text-[var(--text-primary)] hover:text-[var(--accent)] transition-colors" href="/"><span class="text-xl">ğŸ</span><span class="hidden sm:inline">Beboa</span><span class="hidden sm:inline text-xs font-normal text-[var(--text-muted)] ml-1">Docs</span></a><nav class="hidden lg:flex items-center gap-1"><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/">User Guide</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--accent)] bg-[var(--accent-light)]" href="/ai/">AI Systems</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/">Jarvis Mode</a><a class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/structure/">Reference</a></nav></div><div class="flex items-center gap-3"><div class="hidden sm:block"><button class="flex items-center gap-2 px-3 py-2 text-sm text-[var(--text-muted)] bg-[var(--bg-tertiary)] hover:bg-[var(--border)] rounded-lg border border-[var(--border)] transition-colors w-full max-w-[240px]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search w-4 h-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><span class="flex-1 text-left">Search docs...</span><kbd class="hidden sm:inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium text-[var(--text-muted)] bg-[var(--bg-secondary)] rounded border border-[var(--border)]"><span class="text-xs">âŒ˜</span>K</kbd></button></div><button class="sm:hidden p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Search"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button><a href="https://github.com/CMLKevin/beboa_evo" target="_blank" rel="noopener noreferrer" class="hidden sm:flex p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github w-5 h-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><button class="p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Switch to dark mode"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon w-5 h-5"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button></div></div></header><aside class="fixed inset-y-0 left-0 z-50 w-72 bg-[var(--bg-secondary)] border-r border-[var(--border)] transform transition-transform duration-300 ease-in-out lg:hidden -translate-x-full"><div class="flex items-center justify-between h-[var(--header-height)] px-4 border-b border-[var(--border)]"><a class="flex items-center gap-2 text-lg font-semibold text-[var(--text-primary)]" href="/"><span class="text-xl">ğŸ</span><span>Beboa</span></a><button class="p-2 -mr-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors" aria-label="Close menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x w-5 h-5"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button></div><div class="p-4 border-b border-[var(--border)]"><div class="flex flex-wrap gap-2"><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/">User Guide</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--accent)] bg-[var(--accent-light)]" href="/ai/">AI Systems</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/jarvis/">Jarvis Mode</a><a class="px-3 py-1.5 text-sm font-medium rounded-md transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] bg-[var(--bg-tertiary)]" href="/architecture/structure/">Reference</a></div></div><nav class="overflow-y-auto h-[calc(100%-128px)] py-4 px-4"><ul class="space-y-1"><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Getting Started</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/">Home</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/installation/">Installation</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/configuration/">Configuration</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/getting-started/quickstart/">Quick Start</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Features</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/checkins/">Daily Check-ins</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/bebits/">Bebits &amp; Rewards</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/features/chat/">AI Chat</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">AI Systems</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--accent)] bg-[var(--accent-light)] font-medium" href="/ai/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/personality/">Dynamic Personality</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/moods/">Mood System</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/relationships/">Relationships</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/memory/">Semantic Memory</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--accent)] bg-[var(--accent-light)] font-medium" href="/ai/llm-evaluator/">LLM Evaluator</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/tools/">Tool Calls</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Jarvis Mode 2.0</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/">Overview</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/commands/">Commands Reference</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/parsing/">Intent Parsing</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/jarvis/fun/">Fun Commands</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Commands</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/commands/user/">User Commands</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/commands/admin/">Admin Commands</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Architecture</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/structure/">Project Structure</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/database/">Database Schema</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/services/">Services</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/architecture/flow/">Message Flow</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Developer Guide</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/commands/">Extending Commands</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/tools/">Custom Tools</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/migrations/">Database Migrations</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/dev/api/">API Reference</a></li></ul></li><li class="mb-4"><div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">Deployment</div><ul class="mt-1 space-y-1"><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/railway/">Railway</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/vps/">VPS Setup</a></li><li><a class="block px-3 py-2 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/deployment/docker/">Docker</a></li></ul></li></ul></nav></aside><div class="flex"><aside class="hidden lg:block fixed top-[var(--header-height)] left-0 bottom-0 w-[var(--sidebar-width)] border-r border-[var(--border)] bg-[var(--bg-secondary)] overflow-y-auto"><nav class="py-6 px-4"><ul class="space-y-6"><li><div class="px-3 mb-2 text-xs font-semibold uppercase tracking-wider text-[var(--text-muted)]">AI Systems</div><ul class="space-y-0.5"><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/">Overview</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/personality/">Dynamic Personality</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/moods/">Mood System</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/relationships/">Relationships</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/memory/">Semantic Memory</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/llm-evaluator/">LLM Evaluator</a></li><li><a class="block px-3 py-1.5 rounded-md text-sm transition-colors text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]" href="/ai/tools/">Tool Calls</a></li></ul></li></ul></nav></aside><main class="flex-1 min-w-0 lg:pl-[var(--sidebar-width)]"><div class="max-w-[var(--content-max-width)] mx-auto px-6 py-8 lg:px-8 lg:py-12"><article class="animate-in"><div class="flex items-start justify-between gap-4 mb-6"><nav aria-label="Breadcrumb" class="flex items-center gap-1.5 text-sm mb-4"><div class="flex items-center gap-1.5"><a class="text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors" href="/ai/">AI Systems</a></div></nav><button class="flex items-center gap-1.5 px-3 py-1.5 text-sm text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] rounded-md transition-colors border border-transparent hover:border-[var(--border)]" title="Copy page content"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-4 h-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy page</span></button></div><h1>LLM Evaluator</h1><p class="text-lg text-[var(--text-secondary)] mb-8 -mt-2">Centralized LLM service for mood detection, relationships, and Jarvis parsing.</p><div class="prose-custom"><h1 id="llm-evaluator-service">LLM Evaluator Service</h1>
<p>The LLM Evaluator is a centralized service that powers intelligent evaluation across three key systems: <strong>mood detection</strong>, <strong>relationship assessment</strong>, and <strong>Jarvis intent parsing</strong>.</p>
<h2 id="overview"><a href="#overview" class="anchor-link">Overview</a></h2>
<div class="relative group my-6"><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-lg p-4"><code class="font-mono block"><div class="px-4"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></div><div class="px-4"><span>â”‚                      LLM Evaluator Service                       â”‚</span></div><div class="px-4"><span>â”‚                    (x-ai/grok-4.1-fast)                          â”‚</span></div><div class="px-4"><span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></div><div class="px-4"><span>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚</span></div><div class="px-4"><span>â”‚  â”‚    Mood      â”‚  â”‚ Relationship â”‚  â”‚      Jarvis          â”‚  â”‚</span></div><div class="px-4"><span>â”‚  â”‚  Evaluator   â”‚  â”‚  Evaluator   â”‚  â”‚  Intent Parser       â”‚  â”‚</span></div><div class="px-4"><span>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚</span></div><div class="px-4"><span>â”‚                                                                  â”‚</span></div><div class="px-4"><span>â”‚  Shared: Rate limiting, caching, error handling                  â”‚</span></div><div class="px-4"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></div></code></pre><button class="absolute top-3 right-3 flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all opacity-0 group-hover:opacity-100 bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<h2 id="why-llm-powered-evaluation"><a href="#why-llm-powered-evaluation" class="anchor-link">Why LLM-Powered Evaluation?</a></h2>
<table><thead><tr><th>Before (Rule-Based)</th><th>After (LLM-Powered)</th></tr></thead><tbody><tr><td>Keyword matching misses nuance</td><td>Understands context and sarcasm</td></tr><tr><td>Fixed relationship increments</td><td>Quality-based relationship growth</td></tr><tr><td>Rigid regex patterns for Jarvis</td><td>Natural language understanding</td></tr><tr><td>No typo tolerance</td><td>Handles variations and typos</td></tr><tr><td>Context-blind</td><td>Considers conversation flow</td></tr></tbody></table>
<h2 id="configuration"><a href="#configuration" class="anchor-link">Configuration</a></h2>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">env</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span># Enable/disable the evaluator</span></div><div class="px-4"><span>LLM_EVALUATOR_ENABLED=true</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Model to use (fast and cost-effective)</span></div><div class="px-4"><span>LLM_EVALUATOR_MODEL=x-ai/grok-4.1-fast</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Cache TTL in milliseconds (default: 60000 = 1 minute)</span></div><div class="px-4"><span>LLM_EVALUATOR_CACHE_TTL=60000</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Rate limit: max calls per minute (default: 30)</span></div><div class="px-4"><span>LLM_EVALUATOR_RATE_LIMIT=30</span></div></code></pre></div>
<h2 id="the-three-evaluators"><a href="#the-three-evaluators" class="anchor-link">The Three Evaluators</a></h2>
<h3 id="1-mood-evaluator"><a href="#1-mood-evaluator" class="anchor-link">1. Mood Evaluator</a></h3>
<p>Analyzes user messages for emotional content and suggests appropriate mood shifts.</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { evaluateMood } from &#x27;./services/llmEvaluator.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>const result = await evaluateMood(&quot;omg you&#x27;re so cute!&quot;, {</span></div><div class="px-4"><span>  relationshipStage: &#x27;friend&#x27;,</span></div><div class="px-4"><span>  currentMood: &#x27;neutral&#x27;</span></div><div class="px-4"><span>});</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Result:</span></div><div class="px-4"><span>{</span></div><div class="px-4"><span>  sentiment: 0.8,</span></div><div class="px-4"><span>  dominantEmotion: &quot;happy&quot;,</span></div><div class="px-4"><span>  suggestedMood: &quot;flustered&quot;,</span></div><div class="px-4"><span>  moodConfidence: 0.92,</span></div><div class="px-4"><span>  triggerReason: &quot;received_compliment&quot;,</span></div><div class="px-4"><span>  detectedPatterns: {</span></div><div class="px-4"><span>    isChallenge: false,</span></div><div class="px-4"><span>    isCompliment: true,</span></div><div class="px-4"><span>    isPlayful: false,</span></div><div class="px-4"><span>    isVulnerable: false,</span></div><div class="px-4"><span>    isRude: false,</span></div><div class="px-4"><span>    isSarcastic: false</span></div><div class="px-4"><span>  }</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<p><strong>Used by:</strong> <code>personality.js</code> â†’ <code>processInteraction()</code></p>
<h3 id="2-relationship-evaluator"><a href="#2-relationship-evaluator" class="anchor-link">2. Relationship Evaluator</a></h3>
<p>Assesses interaction quality and determines appropriate relationship changes.</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { evaluateRelationship } from &#x27;./services/llmEvaluator.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>const result = await evaluateRelationship(</span></div><div class="px-4"><span>  &quot;I&#x27;ve been having a really tough week...&quot;,</span></div><div class="px-4"><span>  &quot;Hey... I&#x27;m not good at this stuff, but... I&#x27;m here. You can talk to me, okay?&quot;,</span></div><div class="px-4"><span>  {</span></div><div class="px-4"><span>    stage: &#x27;friend&#x27;,</span></div><div class="px-4"><span>    affection: 0.5,</span></div><div class="px-4"><span>    trust: 0.4,</span></div><div class="px-4"><span>    familiarity: 0.6,</span></div><div class="px-4"><span>    rivalry: 0.1</span></div><div class="px-4"><span>  }</span></div><div class="px-4"><span>);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Result:</span></div><div class="px-4"><span>{</span></div><div class="px-4"><span>  interactionQuality: &quot;deep&quot;,</span></div><div class="px-4"><span>  emotionalDepth: 0.85,</span></div><div class="px-4"><span>  trustIndicators: {</span></div><div class="px-4"><span>    sharedVulnerability: true,</span></div><div class="px-4"><span>    askedForHelp: true,</span></div><div class="px-4"><span>    showedCare: true,</span></div><div class="px-4"><span>    wasHonest: true</span></div><div class="px-4"><span>  },</span></div><div class="px-4"><span>  relationshipDeltas: {</span></div><div class="px-4"><span>    affection: 0.04,</span></div><div class="px-4"><span>    trust: 0.03,</span></div><div class="px-4"><span>    familiarity: 0.02,</span></div><div class="px-4"><span>    rivalry: 0</span></div><div class="px-4"><span>  },</span></div><div class="px-4"><span>  suggestedInsideJoke: null,</span></div><div class="px-4"><span>  noteworthyMoment: &quot;User opened up about having a tough week&quot;,</span></div><div class="px-4"><span>  reasoning: &quot;Deep emotional moment with vulnerability and care shown&quot;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<p><strong>Used by:</strong> <code>personality.js</code> â†’ <code>processInteraction()</code></p>
<h3 id="3-jarvis-intent-parser"><a href="#3-jarvis-intent-parser" class="anchor-link">3. Jarvis Intent Parser</a></h3>
<p>Parses natural language admin commands into structured actions.</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { parseJarvisIntent } from &#x27;./services/llmEvaluator.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>const result = await parseJarvisIntent(&quot;yo give @CoolUser like 100 coins&quot;, {</span></div><div class="px-4"><span>  recentCommands: [&#x27;user_info&#x27;],</span></div><div class="px-4"><span>  userId: &#x27;123456789&#x27;</span></div><div class="px-4"><span>});</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Result:</span></div><div class="px-4"><span>{</span></div><div class="px-4"><span>  isCommand: true,</span></div><div class="px-4"><span>  command: &quot;give_bebits&quot;,</span></div><div class="px-4"><span>  confidence: 0.88,</span></div><div class="px-4"><span>  params: {</span></div><div class="px-4"><span>    targetUserId: &quot;987654321&quot;,</span></div><div class="px-4"><span>    amount: 100,</span></div><div class="px-4"><span>    text: null</span></div><div class="px-4"><span>  },</span></div><div class="px-4"><span>  requiresConfirmation: false,</span></div><div class="px-4"><span>  clarificationNeeded: null,</span></div><div class="px-4"><span>  reasoning: &quot;&#x27;yo give&#x27; indicates giving, &#x27;like 100 coins&#x27; = 100 bebits&quot;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<p><strong>Used by:</strong> <code>adminCommands.js</code> â†’ <code>parseAndExecuteAdminCommand()</code></p>
<h2 id="rate-limiting"><a href="#rate-limiting" class="anchor-link">Rate Limiting</a></h2>
<p>The evaluator implements a sliding window rate limiter:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// 30 calls per minute window</span></div><div class="px-4"><span>const RATE_LIMIT_CALLS = 30;</span></div><div class="px-4"><span>const RATE_LIMIT_WINDOW = 60000; // 1 minute</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// If rate limited, returns null (signals fallback)</span></div><div class="px-4"><span>if (!checkRateLimit()) {</span></div><div class="px-4"><span>  console.log(&#x27;[LLM_EVALUATOR] Rate limited, using fallback&#x27;);</span></div><div class="px-4"><span>  return null;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h3 id="monitoring-rate-limits"><a href="#monitoring-rate-limits" class="anchor-link">Monitoring Rate Limits</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { getCacheStats } from &#x27;./services/llmEvaluator.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>const stats = getCacheStats();</span></div><div class="px-4"><span>// { size: 15, rateLimitCalls: 12, rateLimitRemaining: 18 }</span></div></code></pre></div>
<h2 id="response-caching"><a href="#response-caching" class="anchor-link">Response Caching</a></h2>
<p>Responses are cached by content hash to reduce API calls:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// Cache key is hash of input content</span></div><div class="px-4"><span>const cacheKey = `mood_${hashContent(message + relationshipStage + currentMood)}`;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Cached responses are reused within TTL</span></div><div class="px-4"><span>const cached = responseCache.get(cacheKey);</span></div><div class="px-4"><span>if (cached &amp;&amp; Date.now() - cached.timestamp &lt; CACHE_TTL) {</span></div><div class="px-4"><span>  return cached.response;</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h3 id="cache-management"><a href="#cache-management" class="anchor-link">Cache Management</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>import { clearCache, getCacheStats } from &#x27;./services/llmEvaluator.js&#x27;;</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Check cache status</span></div><div class="px-4"><span>const stats = getCacheStats();</span></div><div class="px-4"><span>console.log(`Cache size: ${stats.size} entries`);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Clear if needed</span></div><div class="px-4"><span>clearCache();</span></div></code></pre></div>
<h2 id="fallback-behavior"><a href="#fallback-behavior" class="anchor-link">Fallback Behavior</a></h2>
<p>When the LLM evaluator is unavailable or returns <code>null</code>, each system has fallbacks:</p>
<h3 id="mood-fallback"><a href="#mood-fallback" class="anchor-link">Mood Fallback</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// Falls back to keyword matching</span></div><div class="px-4"><span>const positiveWords = [&#x27;love&#x27;, &#x27;thanks&#x27;, &#x27;awesome&#x27;, &#x27;great&#x27;, &#x27;amazing&#x27;];</span></div><div class="px-4"><span>const negativeWords = [&#x27;hate&#x27;, &#x27;stupid&#x27;, &#x27;dumb&#x27;, &#x27;annoying&#x27;];</span></div></code></pre></div>
<h3 id="relationship-fallback"><a href="#relationship-fallback" class="anchor-link">Relationship Fallback</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// Falls back to fixed deltas</span></div><div class="px-4"><span>const relUpdates = {</span></div><div class="px-4"><span>  familiarity: 0.01,</span></div><div class="px-4"><span>  affection: sentiment &gt; 0 ? 0.005 : -0.002,</span></div><div class="px-4"><span>  trust: isVulnerable ? 0.02 : 0.002</span></div><div class="px-4"><span>};</span></div></code></pre></div>
<h3 id="jarvis-fallback"><a href="#jarvis-fallback" class="anchor-link">Jarvis Fallback</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// Falls back to regex pattern matching</span></div><div class="px-4"><span>for (const pattern of cmd.patterns) {</span></div><div class="px-4"><span>  const match = message.match(pattern);</span></div><div class="px-4"><span>  if (match) return { command: cmd.name, match };</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h2 id="error-handling"><a href="#error-handling" class="anchor-link">Error Handling</a></h2>
<p>The evaluator gracefully handles errors:</p>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>try {</span></div><div class="px-4"><span>  const response = await fetch(OPENROUTER_API, { ... });</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>  if (!response.ok) {</span></div><div class="px-4"><span>    console.error(&#x27;[LLM_EVALUATOR] API error:&#x27;, response.status);</span></div><div class="px-4"><span>    return null;  // Signal fallback</span></div><div class="px-4"><span>  }</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>  // Parse and return</span></div><div class="px-4"><span>  return JSON.parse(content);</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>} catch (error) {</span></div><div class="px-4"><span>  console.error(&#x27;[LLM_EVALUATOR] Error:&#x27;, error.message);</span></div><div class="px-4"><span>  return null;  // Signal fallback</span></div><div class="px-4"><span>}</span></div></code></pre></div>
<h2 id="api-details"><a href="#api-details" class="anchor-link">API Details</a></h2>
<h3 id="request-structure"><a href="#request-structure" class="anchor-link">Request Structure</a></h3>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>await fetch(&#x27;https://openrouter.ai/api/v1/chat/completions&#x27;, {</span></div><div class="px-4"><span>  method: &#x27;POST&#x27;,</span></div><div class="px-4"><span>  headers: {</span></div><div class="px-4"><span>    &#x27;Authorization&#x27;: `Bearer ${config.OPENROUTER_API_KEY}`,</span></div><div class="px-4"><span>    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,</span></div><div class="px-4"><span>    &#x27;HTTP-Referer&#x27;: &#x27;https://github.com/CMLKevin/beboa_evo&#x27;,</span></div><div class="px-4"><span>    &#x27;X-Title&#x27;: &#x27;Beboa Discord Bot - LLM Evaluator&#x27;</span></div><div class="px-4"><span>  },</span></div><div class="px-4"><span>  body: JSON.stringify({</span></div><div class="px-4"><span>    model: &#x27;x-ai/grok-4.1-fast&#x27;,</span></div><div class="px-4"><span>    messages: [</span></div><div class="px-4"><span>      { role: &#x27;system&#x27;, content: systemPrompt },</span></div><div class="px-4"><span>      { role: &#x27;user&#x27;, content: userPrompt }</span></div><div class="px-4"><span>    ],</span></div><div class="px-4"><span>    temperature: 0.1,           // Deterministic</span></div><div class="px-4"><span>    max_tokens: 500,</span></div><div class="px-4"><span>    response_format: { type: &#x27;json_object&#x27; }</span></div><div class="px-4"><span>  })</span></div><div class="px-4"><span>});</span></div></code></pre></div>
<h3 id="why-grok-41-fast"><a href="#why-grok-41-fast" class="anchor-link">Why <code>grok-4.1-fast</code>?</a></h3>
<ul>
<li><strong>Fast</strong>: Low latency for real-time evaluation</li>
<li><strong>Cost-effective</strong>: Affordable for frequent calls</li>
<li><strong>JSON-capable</strong>: Reliable structured output</li>
<li><strong>Context-aware</strong>: Understands nuance and sarcasm</li>
</ul>
<h2 id="debugging"><a href="#debugging" class="anchor-link">Debugging</a></h2>
<p>Console logs show which evaluation method is used:</p>
<div class="relative group my-6"><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-lg p-4"><code class="font-mono block"><div class="px-4"><span># LLM evaluation active</span></div><div class="px-4"><span>[PERSONALITY] Using LLM mood analysis</span></div><div class="px-4"><span>[PERSONALITY] Using LLM relationship eval: meaningful</span></div><div class="px-4"><span>[JARVIS] LLM parsed: give_bebits (confidence: 0.92)</span></div><div class="px-4"><span> </span></div><div class="px-4"><span># Fallback active</span></div><div class="px-4"><span>[PERSONALITY] Using keyword fallback for mood analysis</span></div><div class="px-4"><span>[PERSONALITY] Using fallback relationship deltas</span></div><div class="px-4"><span>[JARVIS] LLM not available or low confidence, trying pattern matching</span></div></code></pre><button class="absolute top-3 right-3 flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all opacity-0 group-hover:opacity-100 bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<h2 id="cost-estimation"><a href="#cost-estimation" class="anchor-link">Cost Estimation</a></h2>
<p>With <code>x-ai/grok-4.1-fast</code>:</p>
<table><thead><tr><th>Usage</th><th>Calls/Day</th><th>Est. Cost/Month</th></tr></thead><tbody><tr><td>Light</td><td>~100</td><td>~$1-2</td></tr><tr><td>Medium</td><td>~500</td><td>~$5-10</td></tr><tr><td>Heavy</td><td>~2000</td><td>~$20-40</td></tr></tbody></table>
<p>Caching significantly reduces actual API calls.</p>
<h2 id="best-practices"><a href="#best-practices" class="anchor-link">Best Practices</a></h2>
<ol>
<li><strong>Monitor rate limits</strong> - Check <code>getCacheStats()</code> regularly</li>
<li><strong>Trust the fallbacks</strong> - They work when LLM is unavailable</li>
<li><strong>Keep cache TTL reasonable</strong> - 60s balances freshness vs. cost</li>
<li><strong>Use low temperature</strong> - 0.1 ensures consistent evaluations</li>
<li><strong>Check logs</strong> - Verify which method is being used</li>
<li><strong>Don&#x27;t disable unnecessarily</strong> - LLM evaluation is superior to keywords</li>
</ol>
<h2 id="file-location"><a href="#file-location" class="anchor-link">File Location</a></h2>
<div class="relative group my-6"><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-lg p-4"><code class="font-mono block"><div class="px-4"><span>src/services/llmEvaluator.js</span></div></code></pre><button class="absolute top-3 right-3 flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all opacity-0 group-hover:opacity-100 bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<h2 id="exports"><a href="#exports" class="anchor-link">Exports</a></h2>
<div class="relative group my-6"><div class="flex items-center justify-between px-4 py-2 bg-[#2d2d2d] dark:bg-[#1a1a1a] border-b border-[#3d3d3d] rounded-t-lg"><span class="text-xs font-medium text-[#9a9a9a]">javascript</span><button class="flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded transition-all bg-[#3d3d3d] text-[#9a9a9a] hover:bg-[#4d4d4d] hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3.5 h-3.5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>Copy</span></button></div><pre class="overflow-x-auto text-sm bg-[var(--code-bg)] text-[var(--code-text)] rounded-b-lg rounded-t-none p-4"><code class="font-mono block"><div class="px-4"><span>// Evaluators</span></div><div class="px-4"><span>export async function evaluateMood(message, context)</span></div><div class="px-4"><span>export async function evaluateRelationship(userMessage, botResponse, context)</span></div><div class="px-4"><span>export async function parseJarvisIntent(message, context)</span></div><div class="px-4"><span> </span></div><div class="px-4"><span>// Utilities</span></div><div class="px-4"><span>export function isAvailable()     // Check if evaluator can be called</span></div><div class="px-4"><span>export function getCacheStats()   // Get cache and rate limit info</span></div><div class="px-4"><span>export function clearCache()      // Clear response cache</span></div></code></pre></div></div><nav class="flex items-center justify-between mt-16 pt-8 border-t border-[var(--border)]"><a class="group flex items-center gap-2 px-4 py-3 rounded-lg border border-[var(--border)] bg-[var(--bg-secondary)] hover:border-[var(--accent)] hover:shadow-soft transition-all" href="/features/chat/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--accent)] transition-colors"><path d="m15 18-6-6 6-6"></path></svg><div class="text-left"><div class="text-xs text-[var(--text-muted)] mb-0.5">Previous</div><div class="text-sm font-medium text-[var(--text-primary)] group-hover:text-[var(--accent)] transition-colors">AI Chat</div></div></a><a class="group flex items-center gap-2 px-4 py-3 rounded-lg border border-[var(--border)] bg-[var(--bg-secondary)] hover:border-[var(--accent)] hover:shadow-soft transition-all" href="/ai/personality/"><div class="text-right"><div class="text-xs text-[var(--text-muted)] mb-0.5">Next</div><div class="text-sm font-medium text-[var(--text-primary)] group-hover:text-[var(--accent)] transition-colors">Dynamic Personality</div></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--accent)] transition-colors"><path d="m9 18 6-6-6-6"></path></svg></a></nav></article></div></main></div></div></div><script src="/_next/static/chunks/webpack-e5714bf66625afb9.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/443896d591e4f761-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/3cf59f0fd0496c15.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[2846,[],\"\"]\n7:I[4707,[],\"\"]\n9:I[6423,[],\"\"]\na:I[2060,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"ThemeProvider\"]\nb:I[4351,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"Header\"]\nc:I[9399,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"185\",\"static/chunks/app/layout-4b75b78215e64ea2.js\"],\"Sidebar\"]\ne:I[1060,[],\"\"]\n8:[\"slug\",\"ai/llm-evaluator\",\"c\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L4\",null,{\"buildId\":\"FeUt14WxB_Uw-6zJdn3nr\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"ai\",\"llm-evaluator\",\"\"],\"initialTree\":[\"\",{\"children\":[[\"slug\",\"ai/llm-evaluator\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"ai\\\",\\\"llm-evaluator\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"ai/llm-evaluator\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",\"$L6\",null],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3cf59f0fd0496c15.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_f367f3 __variable_a06722 font-sans\",\"children\":[\"$\",\"$La\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-[var(--bg-primary)] transition-colors duration-200\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex\",\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 min-w-0 lg:pl-[var(--sidebar-width)]\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-[var(--content-max-width)] mx-auto px-6 py-8 lg:px-8 lg:py-12\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}]}]]}]]}]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]\n"])</script><script>self.__next_f.push([1,"10:I[6430,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"Breadcrumbs\"]\n11:I[9078,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"CopyPageButton\"]\n13:I[3308,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"PageNavigation\"]\n14:I[5321,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"TableOfContents\"]\n6:[[\"$\",\"article\",null,{\"className\":\"animate-in\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-start justify-between gap-4 mb-6\",\"children\":[[\"$\",\"$L10\",null,{}],[\"$\",\"$L11\",null,{}]]}],[\"$\",\"h1\",null,{\"children\":\"LLM Evaluator\"}],[\"$\",\"p\",null,{\"className\":\"text-lg text-[var(--text-secondary)] mb-8 -mt-2\",\"children\":\"Centralized LLM service for mood detection, relationships, and Jarvis parsing.\"}],[\"$\",\"div\",null,{\"className\":\"prose-custom\",\"children\":\"$L12\"}],[\"$\",\"$L13\",null,{}]]}],[\"$\",\"$L14\",null,{}]]\nd:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"LLM Evaluator - Beboa Docs\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Centralized LLM service for mood detection, relationships, and Jarvis parsing.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,"15:I[5045,[\"972\",\"static/chunks/972-68a674eeca97bbbb.js\",\"646\",\"static/chunks/646-1e67c3e800eb58dd.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-ea4807ff1312ce17.js\"],\"CodeBlock\"]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"h1\",null,{\"id\":\"llm-evaluator-service\",\"children\":\"LLM Evaluator Service\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The LLM Evaluator is a centralized service that powers intelligent evaluation across three key systems: \",[\"$\",\"strong\",null,{\"children\":\"mood detection\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"relationship assessment\"}],\", and \",[\"$\",\"strong\",null,{\"children\":\"Jarvis intent parsing\"}],\".\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"overview\",\"children\":[\"$\",\"a\",null,{\"href\":\"#overview\",\"className\":\"anchor-link\",\"children\":\"Overview\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"$undefined\",\"children\":\"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\\nâ”‚                      LLM Evaluator Service                       â”‚\\nâ”‚                    (x-ai/grok-4.1-fast)                          â”‚\\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\\nâ”‚  â”‚    Mood      â”‚  â”‚ Relationship â”‚  â”‚      Jarvis          â”‚  â”‚\\nâ”‚  â”‚  Evaluator   â”‚  â”‚  Evaluator   â”‚  â”‚  Intent Parser       â”‚  â”‚\\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\\nâ”‚                                                                  â”‚\\nâ”‚  Shared: Rate limiting, caching, error handling                  â”‚\\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"why-llm-powered-evaluation\",\"children\":[\"$\",\"a\",null,{\"href\":\"#why-llm-powered-evaluation\",\"className\":\"anchor-link\",\"children\":\"Why LLM-Powered Evaluation?\"}]}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"Before (Rule-Based)\"}],[\"$\",\"th\",null,{\"children\":\"After (LLM-Powered)\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Keyword matching misses nuance\"}],[\"$\",\"td\",null,{\"children\":\"Understands context and sarcasm\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Fixed relationship increments\"}],[\"$\",\"td\",null,{\"children\":\"Quality-based relationship growth\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Rigid regex patterns for Jarvis\"}],[\"$\",\"td\",null,{\"children\":\"Natural language understanding\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"No typo tolerance\"}],[\"$\",\"td\",null,{\"children\":\"Handles variations and typos\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Context-blind\"}],[\"$\",\"td\",null,{\"children\":\"Considers conversation flow\"}]]}]]}]]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"configuration\",\"children\":[\"$\",\"a\",null,{\"href\":\"#configuration\",\"className\":\"anchor-link\",\"children\":\"Configuration\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"env\",\"children\":\"# Enable/disable the evaluator\\nLLM_EVALUATOR_ENABLED=true\\n\\n# Model to use (fast and cost-effective)\\nLLM_EVALUATOR_MODEL=x-ai/grok-4.1-fast\\n\\n# Cache TTL in milliseconds (default: 60000 = 1 minute)\\nLLM_EVALUATOR_CACHE_TTL=60000\\n\\n# Rate limit: max calls per minute (default: 30)\\nLLM_EVALUATOR_RATE_LIMIT=30\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"the-three-evaluators\",\"children\":[\"$\",\"a\",null,{\"href\":\"#the-three-evaluators\",\"className\":\"anchor-link\",\"children\":\"The Three Evaluators\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-mood-evaluator\",\"children\":[\"$\",\"a\",null,{\"href\":\"#1-mood-evaluator\",\"className\":\"anchor-link\",\"children\":\"1. Mood Evaluator\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Analyzes user messages for emotional content and suggests appropriate mood shifts.\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { evaluateMood } from './services/llmEvaluator.js';\\n\\nconst result = await evaluateMood(\\\"omg you're so cute!\\\", {\\n  relationshipStage: 'friend',\\n  currentMood: 'neutral'\\n});\\n\\n// Result:\\n{\\n  sentiment: 0.8,\\n  dominantEmotion: \\\"happy\\\",\\n  suggestedMood: \\\"flustered\\\",\\n  moodConfidence: 0.92,\\n  triggerReason: \\\"received_compliment\\\",\\n  detectedPatterns: {\\n    isChallenge: false,\\n    isCompliment: true,\\n    isPlayful: false,\\n    isVulnerable: false,\\n    isRude: false,\\n    isSarcastic: false\\n  }\\n}\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Used by:\"}],\" \",[\"$\",\"code\",null,{\"children\":\"personality.js\"}],\" â†’ \",[\"$\",\"code\",null,{\"children\":\"processInteraction()\"}]]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-relationship-evaluator\",\"children\":[\"$\",\"a\",null,{\"href\":\"#2-relationship-evaluator\",\"className\":\"anchor-link\",\"children\":\"2. Relationship Evaluator\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Assesses interaction quality and determines appropriate relationship changes.\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { evaluateRelationship } from './services/llmEvaluator.js';\\n\\nconst result = await evaluateRelationship(\\n  \\\"I've been having a really tough week...\\\",\\n  \\\"Hey... I'm not good at this stuff, but... I'm here. You can talk to me, okay?\\\",\\n  {\\n    stage: 'friend',\\n    affection: 0.5,\\n    trust: 0.4,\\n    familiarity: 0.6,\\n    rivalry: 0.1\\n  }\\n);\\n\\n// Result:\\n{\\n  interactionQuality: \\\"deep\\\",\\n  emotionalDepth: 0.85,\\n  trustIndicators: {\\n    sharedVulnerability: true,\\n    askedForHelp: true,\\n    showedCare: true,\\n    wasHonest: true\\n  },\\n  relationshipDeltas: {\\n    affection: 0.04,\\n    trust: 0.03,\\n    familiarity: 0.02,\\n    rivalry: 0\\n  },\\n  suggestedInsideJoke: null,\\n  noteworthyMoment: \\\"User opened up about having a tough week\\\",\\n  reasoning: \\\"Deep emotional moment with vulnerability and care shown\\\"\\n}\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Used by:\"}],\" \",[\"$\",\"code\",null,{\"children\":\"personality.js\"}],\" â†’ \",[\"$\",\"code\",null,{\"children\":\"processInteraction()\"}]]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"3-jarvis-intent-parser\",\"children\":[\"$\",\"a\",null,{\"href\":\"#3-jarvis-intent-parser\",\"className\":\"anchor-link\",\"children\":\"3. Jarvis Intent Parser\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Parses natural language admin commands into structured actions.\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { parseJarvisIntent } from './services/llmEvaluator.js';\\n\\nconst result = await parseJarvisIntent(\\\"yo give @CoolUser like 100 coins\\\", {\\n  recentCommands: ['user_info'],\\n  userId: '123456789'\\n});\\n\\n// Result:\\n{\\n  isCommand: true,\\n  command: \\\"give_bebits\\\",\\n  confidence: 0.88,\\n  params: {\\n    targetUserId: \\\"987654321\\\",\\n    amount: 100,\\n    text: null\\n  },\\n  requiresConfirmation: false,\\n  clarificationNeeded: null,\\n  reasoning: \\\"'yo give' indicates giving, 'like 100 coins' = 100 bebits\\\"\\n}\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Used by:\"}],\" \",[\"$\",\"code\",null,{\"children\":\"adminCommands.js\"}],\" â†’ \",[\"$\",\"code\",null,{\"children\":\"parseAndExecuteAdminCommand()\"}]]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"rate-limiting\",\"children\":[\"$\",\"a\",null,{\"href\":\"#rate-limiting\",\"className\":\"anchor-link\",\"children\":\"Rate Limiting\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The evaluator implements a sliding window rate limiter:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// 30 calls per minute window\\nconst RATE_LIMIT_CALLS = 30;\\nconst RATE_LIMIT_WINDOW = 60000; // 1 minute\\n\\n// If rate limited, returns null (signals fallback)\\nif (!checkRateLimit()) {\\n  console.log('[LLM_EVALUATOR] Rate limited, using fallback');\\n  return null;\\n}\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"monitoring-rate-limits\",\"children\":[\"$\",\"a\",null,{\"href\":\"#monitoring-rate-limits\",\"className\":\"anchor-link\",\"children\":\"Monitoring Rate Limits\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { getCacheStats } from './services/llmEvaluator.js';\\n\\nconst stats = getCacheStats();\\n// { size: 15, rateLimitCalls: 12, rateLimitRemaining: 18 }\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"response-caching\",\"children\":[\"$\",\"a\",null,{\"href\":\"#response-caching\",\"className\":\"anchor-link\",\"children\":\"Response Caching\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Responses are cached by content hash to reduce API calls:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// Cache key is hash of input content\\nconst cacheKey = `mood_${hashContent(message + relationshipStage + currentMood)}`;\\n\\n// Cached responses are reused within TTL\\nconst cached = responseCache.get(cacheKey);\\nif (cached \u0026\u0026 Date.now() - cached.timestamp \u003c CACHE_TTL) {\\n  return cached.response;\\n}\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"cache-management\",\"children\":[\"$\",\"a\",null,{\"href\":\"#cache-management\",\"className\":\"anchor-link\",\"children\":\"Cache Management\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"import { clearCache, getCacheStats } from './services/llmEvaluator.js';\\n\\n// Check cache status\\nconst stats = getCacheStats();\\nconsole.log(`Cache size: ${stats.size} entries`);\\n\\n// Clear if needed\\nclearCache();\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"fallback-behavior\",\"children\":[\"$\",\"a\",null,{\"href\":\"#fallback-behavior\",\"className\":\"anchor-link\",\"children\":\"Fallback Behavior\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When the LLM evaluator is unavailable or returns \",[\"$\",\"code\",null,{\"children\":\"null\"}],\", each system has fallbacks:\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"mood-fallback\",\"children\":[\"$\",\"a\",null,{\"href\":\"#mood-fallback\",\"className\":\"anchor-link\",\"children\":\"Mood Fallback\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// Falls back to keyword matching\\nconst positiveWords = ['love', 'thanks', 'awesome', 'great', 'amazing'];\\nconst negativeWords = ['hate', 'stupid', 'dumb', 'annoying'];\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"relationship-fallback\",\"children\":[\"$\",\"a\",null,{\"href\":\"#relationship-fallback\",\"className\":\"anchor-link\",\"children\":\"Relationship Fallback\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// Falls back to fixed deltas\\nconst relUpdates = {\\n  familiarity: 0.01,\\n  affection: sentiment \u003e 0 ? 0.005 : -0.002,\\n  trust: isVulnerable ? 0.02 : 0.002\\n};\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"jarvis-fallback\",\"children\":[\"$\",\"a\",null,{\"href\":\"#jarvis-fallback\",\"className\":\"anchor-link\",\"children\":\"Jarvis Fallback\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// Falls back to regex pattern matching\\nfor (const pattern of cmd.patterns) {\\n  const match = message.match(pattern);\\n  if (match) return { command: cmd.name, match };\\n}\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"error-handling\",\"children\":[\"$\",\"a\",null,{\"href\":\"#error-handling\",\"className\":\"anchor-link\",\"children\":\"Error Handling\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The evaluator gracefully handles errors:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"try {\\n  const response = await fetch(OPENROUTER_API, { ... });\\n\\n  if (!response.ok) {\\n    console.error('[LLM_EVALUATOR] API error:', response.status);\\n    return null;  // Signal fallback\\n  }\\n\\n  // Parse and return\\n  return JSON.parse(content);\\n\\n} catch (error) {\\n  console.error('[LLM_EVALUATOR] Error:', error.message);\\n  return null;  // Signal fallback\\n}\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"api-details\",\"children\":[\"$\",\"a\",null,{\"href\":\"#api-details\",\"className\":\"anchor-link\",\"children\":\"API Details\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"request-structure\",\"children\":[\"$\",\"a\",null,{\"href\":\"#request-structure\",\"className\":\"anchor-link\",\"children\":\"Request Structure\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"await fetch('https://openrouter.ai/api/v1/chat/completions', {\\n  method: 'POST',\\n  headers: {\\n    'Authorization': `Bearer ${config.OPENROUTER_API_KEY}`,\\n    'Content-Type': 'application/json',\\n    'HTTP-Referer': 'https://github.com/CMLKevin/beboa_evo',\\n    'X-Title': 'Beboa Discord Bot - LLM Evaluator'\\n  },\\n  body: JSON.stringify({\\n    model: 'x-ai/grok-4.1-fast',\\n    messages: [\\n      { role: 'system', content: systemPrompt },\\n      { role: 'user', content: userPrompt }\\n    ],\\n    temperature: 0.1,           // Deterministic\\n    max_tokens: 500,\\n    response_format: { type: 'json_object' }\\n  })\\n});\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"why-grok-41-fast\",\"children\":[\"$\",\"a\",null,{\"href\":\"#why-grok-41-fast\",\"className\":\"anchor-link\",\"children\":[\"Why \",[\"$\",\"code\",null,{\"children\":\"grok-4.1-fast\"}],\"?\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Fast\"}],\": Low latency for real-time evaluation\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Cost-effective\"}],\": Affordable for frequent calls\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"JSON-capable\"}],\": Reliable structured output\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Context-aware\"}],\": Understands nuance and sarcasm\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"debugging\",\"children\":[\"$\",\"a\",null,{\"href\":\"#debugging\",\"className\":\"anchor-link\",\"children\":\"Debugging\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Console logs show which evaluation method is used:\"}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"$undefined\",\"children\":\"# LLM evaluation active\\n[PERSONALITY] Using LLM mood analysis\\n[PERSONALITY] Using LLM relationship eval: meaningful\\n[JARVIS] LLM parsed: give_bebits (confidence: 0.92)\\n\\n# Fallback active\\n[PERSONALITY] Using keyword fallback for mood analysis\\n[PERSONALITY] Using fallback relationship deltas\\n[JARVIS] LLM not available or low confidence, trying pattern matching\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"cost-estimation\",\"children\":[\"$\",\"a\",null,{\"href\":\"#cost-estimation\",\"className\":\"anchor-link\",\"children\":\"Cost Estimation\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"With \",[\"$\",\"code\",null,{\"children\":\"x-ai/grok-4.1-fast\"}],\":\"]}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"Usage\"}],[\"$\",\"th\",null,{\"children\":\"Calls/Day\"}],[\"$\",\"th\",null,{\"children\":\"Est. Cost/Month\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Light\"}],[\"$\",\"td\",null,{\"children\":\"~100\"}],[\"$\",\"td\",null,{\"children\":\"~$1-2\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Medium\"}],[\"$\",\"td\",null,{\"children\":\"~500\"}],[\"$\",\"td\",null,{\"children\":\"~$5-10\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Heavy\"}],[\"$\",\"td\",null,{\"children\":\"~2000\"}],[\"$\",\"td\",null,{\"children\":\"~$20-40\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Caching significantly reduces actual API calls.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"best-practices\",\"children\":[\"$\",\"a\",null,{\"href\":\"#best-practices\",\"className\":\"anchor-link\",\"children\":\"Best Practices\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Monitor rate limits\"}],\" - Check \",[\"$\",\"code\",null,{\"children\":\"getCacheStats()\"}],\" regularly\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Trust the fallbacks\"}],\" - They work when LLM is unavailable\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Keep cache TTL reasonable\"}],\" - 60s balances freshness vs. cost\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Use low temperature\"}],\" - 0.1 ensures consistent evaluations\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Check logs\"}],\" - Verify which method is being used\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Don't disable unnecessarily\"}],\" - LLM evaluation is superior to keywords\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"file-location\",\"children\":[\"$\",\"a\",null,{\"href\":\"#file-location\",\"className\":\"anchor-link\",\"children\":\"File Location\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"$undefined\",\"children\":\"src/services/llmEvaluator.js\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"exports\",\"children\":[\"$\",\"a\",null,{\"href\":\"#exports\",\"className\":\"anchor-link\",\"children\":\"Exports\"}]}],\"\\n\",[\"$\",\"$L15\",null,{\"language\":\"javascript\",\"children\":\"// Evaluators\\nexport async function evaluateMood(message, context)\\nexport async function evaluateRelationship(userMessage, botResponse, context)\\nexport async function parseJarvisIntent(message, context)\\n\\n// Utilities\\nexport function isAvailable()     // Check if evaluator can be called\\nexport function getCacheStats()   // Get cache and rate limit info\\nexport function clearCache()      // Clear response cache\"}]]\n"])</script></body></html>